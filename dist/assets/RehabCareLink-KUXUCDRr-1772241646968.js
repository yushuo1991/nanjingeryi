const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AIIntakeModal-BXoPZaX6-1772241646968.js","assets/index-CCjI1qAl-1772241646968.js","assets/index-CFV9Srrd-1772241646968.css","assets/check-09ufh1YY-1772241646968.js","assets/trash-2-D4lGC7Qm-1772241646968.js","assets/BatchReportModal-DYCHUri2-1772241646968.js","assets/printer-nJqIZsZM-1772241646968.js","assets/TemplatesModal-82i90oM4-1772241646968.js","assets/QuickEntryModal-DWv8WiTF-1772241646968.js","assets/DepartmentModal-F8W05w2z-1772241646968.js","assets/HomePage-CtHdOCYp-1772241646968.js","assets/TruckLoader-Dehqug77-1772241646968.js","assets/TruckLoader-Dz_-J5Ca-1772241646968.css","assets/pen-line-B87qp9XN-1772241646968.js","assets/PatientsPage-CFm_PUA1-1772241646968.js","assets/chevron-left-CwKZESXw-1772241646968.js","assets/PatientDetailPage-B5pRNg1p-1772241646968.js","assets/ProfilePage-DZlLXV3F-1772241646968.js"])))=>i.map(i=>d[i]);
var Ut=Object.defineProperty,Gt=Object.defineProperties;var Wt=Object.getOwnPropertyDescriptors;var ve=Object.getOwnPropertySymbols;var Ke=Object.prototype.hasOwnProperty,et=Object.prototype.propertyIsEnumerable;var Xe=(s,m,o)=>m in s?Ut(s,m,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[m]=o,v=(s,m)=>{for(var o in m||(m={}))Ke.call(m,o)&&Xe(s,o,m[o]);if(ve)for(var o of ve(m))et.call(m,o)&&Xe(s,o,m[o]);return s},N=(s,m)=>Gt(s,Wt(m));var Ae=(s,m)=>{var o={};for(var l in s)Ke.call(s,l)&&m.indexOf(l)<0&&(o[l]=s[l]);if(s!=null&&ve)for(var l of ve(s))m.indexOf(l)<0&&et.call(s,l)&&(o[l]=s[l]);return o};var _=(s,m,o)=>new Promise((l,w)=>{var S=x=>{try{j(o.next(x))}catch(y){w(y)}},c=x=>{try{j(o.throw(x))}catch(y){w(y)}},j=x=>x.done?l(x.value):Promise.resolve(x.value).then(S,c);j((o=o.apply(s,m)).next())});import{c as D,_ as F,g as Vt,R as we,j as e,r,a as M,L as Jt}from"./index-CCjI1qAl-1772241646968.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=D("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=D("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=D("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=D("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=D("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=D("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=D("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=D("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=D("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=D("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=D("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=D("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=D("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=D("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),ee=s=>s==null?"":typeof s=="string"?s:typeof s=="object"?s.name?s.name:s.title?s.title:s.text?s.text:"":String(s),Ee=s=>!s||!Array.isArray(s)?[]:s.map(m=>ee(m)).filter(Boolean),Sa=s=>_(null,null,function*(){try{const m=(yield F(()=>_(null,null,function*(){const{default:y}=yield import("./html2canvas.esm-C4tBoHcR-1772241646968.js");return{default:y}}),[])).default,o=document.querySelector('[class*="overflow-y-auto"][class*="hide-scrollbar"]')||document.querySelector(".main-glass-container")||document.querySelector("main")||document.body;if(!o){alert("æ— æ³•æ‰¾åˆ°è¦æˆªå›¾çš„åŒºåŸŸ");return}const l=document.createElement("div");l.style.cssText="position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(0,0,0,0.8);color:white;padding:20px 40px;border-radius:12px;z-index:9999;font-size:16px;",l.textContent="æ­£åœ¨ç”Ÿæˆå›¾ç‰‡...",document.body.appendChild(l);const w=o.style.width,S=o.style.maxWidth,c=o.style.minWidth,j=o.style.overflow;o.style.width="768px",o.style.maxWidth="768px",o.style.minWidth="768px",o.style.overflow="visible",yield new Promise(y=>setTimeout(y,500));const x=yield m(o,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff",width:768});o.style.width=w,o.style.maxWidth=S,o.style.minWidth=c,o.style.overflow=j,x.toBlob(y=>{const O=URL.createObjectURL(y),I=document.createElement("a"),T=new Date().toLocaleDateString("zh-CN").replace(/\//g,"-");I.download=`æ²»ç–—è®°å½•-${s.name}-${T}.png`,I.href=O,document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(O),document.body.removeChild(l);const $=document.createElement("div");$.style.cssText="position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(16,185,129,0.9);color:white;padding:20px 40px;border-radius:12px;z-index:9999;font-size:16px;",$.textContent="âœ“ å›¾ç‰‡å·²ä¿å­˜",document.body.appendChild($),setTimeout(()=>document.body.removeChild($),2e3)})}catch(m){console.error("ç”Ÿæˆå›¾ç‰‡å¤±è´¥:",m),alert("ç”Ÿæˆå›¾ç‰‡å¤±è´¥ï¼Œè¯·é‡è¯•")}}),Ca=s=>{var T,$,le;const m=window.open("","_blank"),o=new Date().toLocaleDateString("zh-CN"),l=new Date().toLocaleString("zh-CN"),w=s.treatmentLogs||[],S=((T=s.treatmentPlan)==null?void 0:T.items)||[],c=(($=s.treatmentPlan)==null?void 0:$.precautions)||[],j=s.rehabProblems||"";let x="";j&&(x='<div class="section"><div class="section-title">å½“ä¸‹å­˜åœ¨çš„åº·å¤é—®é¢˜</div><div class="section-content">'+ee(j)+"</div></div>");let y="";if(S.length>0){let je=S.map((H,V)=>{const ke=ee(H.name||H),ce=H.duration?"ï¼ˆ"+H.duration+"ï¼‰":"";return'<div class="treatment-item-row">'+(V+1)+". "+ke+ce+"</div>"}).join(""),E="";c.length>0&&(E='<div style="margin-top: 10px;"><strong>æ³¨æ„äº‹é¡¹ï¼š</strong>'+Ee(c).join("ï¼›")+"</div>"),y='<div class="section"><div class="section-title">æ²»ç–—è®¡åˆ’</div><div class="section-content">'+((le=s.treatmentPlan)!=null&&le.focus?"<div><strong>æ²»ç–—é‡ç‚¹ï¼š</strong>"+s.treatmentPlan.focus+"</div>":"")+'<div style="margin-top: 8px;">'+je+"</div>"+E+"</div></div>"}let O="";w.length>0&&(O='<div class="section"><div class="section-title">æ²»ç–—è®°å½•</div><table class="record-table"><thead><tr><th style="width: 90px;">æ—¥æœŸ</th><th>æ²»ç–—é¡¹ç›®</th><th style="width: 200px;">æ²»ç–—å†…å®¹/å¤‡æ³¨</th><th style="width: 70px;">æ²»ç–—å¸ˆ</th></tr></thead><tbody>'+w.map(E=>{const W=Ee(E.items).join("ã€"),H=E.highlight?"ã€é‡ç‚¹ã€‘"+ee(E.highlight)+" ":"",V=ee(E.notes);return'<tr><td style="text-align: center;">'+(E.date||"")+"</td><td>"+W+"</td><td>"+H+V+'</td><td style="text-align: center;">'+(E.therapist||"")+"</td></tr>"}).join("")+"</tbody></table></div>");const I=`
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="UTF-8">
      <title>æ²»ç–—è®°å½• - ${s.name}</title>
      <style>
        @page { size: A4; margin: 0; }
        @media print { body { margin: 0; } .no-print { display: none !important; } }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: "SimSun", "å®‹ä½“", serif; font-size: 10.5pt; line-height: 1.8; color: #000; background: #fff; }
        .page { width: 210mm; min-height: 297mm; padding: 15mm 20mm; margin: 0 auto; background: #fff; }
        .hospital-header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 10px; margin-bottom: 15px; }
        .hospital-name { font-size: 18pt; font-weight: bold; letter-spacing: 4px; }
        .document-title { font-size: 14pt; font-weight: bold; margin-top: 8px; letter-spacing: 2px; }
        .info-table { width: 100%; border-collapse: collapse; margin-bottom: 15px; }
        .info-table td { border: 1px solid #000; padding: 6px 10px; font-size: 10.5pt; }
        .info-table .label { background: #f5f5f5; font-weight: bold; width: 80px; text-align: center; }
        .section { margin-bottom: 15px; }
        .section-title { font-weight: bold; font-size: 11pt; border-bottom: 1px solid #000; padding-bottom: 3px; margin-bottom: 8px; }
        .section-content { padding-left: 10px; }
        .record-table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        .record-table th, .record-table td { border: 1px solid #000; padding: 6px 8px; text-align: left; font-size: 10pt; }
        .record-table th { background: #f5f5f5; font-weight: bold; text-align: center; }
        .signature-area { margin-top: 30px; display: flex; justify-content: space-between; }
        .signature-item { display: flex; align-items: center; gap: 10px; }
        .signature-line { border-bottom: 1px solid #000; width: 100px; display: inline-block; }
        .footer { margin-top: 20px; padding-top: 10px; border-top: 1px solid #ccc; font-size: 9pt; color: #666; text-align: center; }
        .print-button { position: fixed; top: 20px; right: 20px; padding: 12px 30px; background: #1a5f2a; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14pt; }
        .alert-badge { display: inline-block; background: #dc2626; color: #fff; padding: 2px 8px; font-size: 9pt; margin-right: 5px; }
        .treatment-item-row { margin: 5px 0; padding: 5px 0; border-bottom: 1px dashed #ccc; }
        .treatment-item-row:last-child { border-bottom: none; }
      </style>
    </head>
    <body>
      <button class="print-button no-print" onclick="window.print()">æ‰“ å°</button>
      <div class="page">
        <div class="hospital-header">
          <div class="hospital-name">å—äº¬å¸‚å„¿ç«¥åŒ»é™¢</div>
          <div class="document-title">åº·å¤ç§‘æ²»ç–—è®°å½•</div>
        </div>
        <table class="info-table">
          <tr>
            <td class="label">å§“å</td><td>${s.name||""}</td>
            <td class="label">æ€§åˆ«</td><td>${s.gender||""}</td>
            <td class="label">å¹´é¾„</td><td>${s.age||""}</td>
          </tr>
          <tr>
            <td class="label">åºŠå·</td><td>${s.bedNo||""}</td>
            <td class="label">ç§‘å®¤</td><td>${s.department||""}</td>
            <td class="label">å…¥é™¢æ—¥æœŸ</td><td>${s.admissionDate||""}</td>
          </tr>
          <tr>
            <td class="label">è¯Šæ–­</td><td colspan="5">${s.diagnosis||""}</td>
          </tr>
        </table>
        ${x}
        ${y}
        ${O}
        <div class="signature-area">
          <div class="signature-item"><span>ä¸»æ²»åŒ»å¸ˆï¼š</span><span class="signature-line"></span></div>
          <div class="signature-item"><span>æ²»ç–—å¸ˆï¼š</span><span class="signature-line"></span></div>
          <div class="signature-item"><span>æ—¥æœŸï¼š</span><span>${o}</span></div>
        </div>
        <div class="footer">æ‰“å°æ—¶é—´ï¼š${l} | å—äº¬å¸‚å„¿ç«¥åŒ»é™¢åº·å¤ç§‘</div>
      </div>
    </body>
    </html>
  `;m.document.write(I),m.document.close()},la=s=>{const m=window.open("","_blank"),o=new Date().toLocaleDateString("zh-CN"),l=new Date().toLocaleString("zh-CN"),w=s.map((c,j)=>{var I,T,$;const x=Ee((I=c.generatedRecord)==null?void 0:I.items).join("ã€"),y=ee((T=c.generatedRecord)==null?void 0:T.notes),O=(($=c.generatedRecord)==null?void 0:$.therapist)||"å´å¤§å‹‡";return'<tr><td style="text-align: center;">'+(j+1)+'</td><td style="text-align: center;">'+(c.name||"")+'</td><td style="text-align: center;">'+(c.bedNo||"")+"</td><td>"+(c.diagnosis||"")+"</td><td>"+x+"</td><td>"+y+'</td><td style="text-align: center;">'+O+"</td></tr>"}).join(""),S=`
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="UTF-8">
      <title>æ²»ç–—æ—¥æŠ¥ - ${o}</title>
      <style>
        @page { size: A4; margin: 0; }
        @media print { body { margin: 0; } .no-print { display: none !important; } }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: "SimSun", "å®‹ä½“", serif; font-size: 10.5pt; line-height: 1.8; color: #000; background: #fff; }
        .page { width: 210mm; padding: 15mm 20mm; margin: 0 auto; background: #fff; }
        .hospital-header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 10px; margin-bottom: 15px; }
        .hospital-name { font-size: 18pt; font-weight: bold; letter-spacing: 4px; }
        .document-title { font-size: 14pt; font-weight: bold; margin-top: 8px; letter-spacing: 2px; }
        .date-line { text-align: right; margin-bottom: 15px; font-size: 10.5pt; }
        .record-table { width: 100%; border-collapse: collapse; }
        .record-table th, .record-table td { border: 1px solid #000; padding: 8px; text-align: left; font-size: 10pt; vertical-align: top; }
        .record-table th { background: #f5f5f5; font-weight: bold; text-align: center; }
        .signature-area { margin-top: 30px; display: flex; justify-content: space-between; }
        .signature-item { display: flex; align-items: center; gap: 10px; }
        .signature-line { border-bottom: 1px solid #000; width: 100px; display: inline-block; }
        .footer { margin-top: 20px; padding-top: 10px; border-top: 1px solid #ccc; font-size: 9pt; color: #666; text-align: center; }
        .print-button { position: fixed; top: 20px; right: 20px; padding: 12px 30px; background: #1a5f2a; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14pt; }
      </style>
    </head>
    <body>
      <button class="print-button no-print" onclick="window.print()">æ‰“ å°</button>
      <div class="page">
        <div class="hospital-header">
          <div class="hospital-name">å—äº¬å¸‚å„¿ç«¥åŒ»é™¢</div>
          <div class="document-title">åº·å¤ç§‘æ²»ç–—æ—¥æŠ¥</div>
        </div>
        <div class="date-line">æ—¥æœŸï¼š${o}</div>
        <table class="record-table">
          <thead><tr>
            <th style="width: 50px;">åºå·</th>
            <th style="width: 70px;">å§“å</th>
            <th style="width: 50px;">åºŠå·</th>
            <th>è¯Šæ–­</th>
            <th>æ²»ç–—é¡¹ç›®</th>
            <th style="width: 150px;">å¤‡æ³¨</th>
            <th style="width: 60px;">æ²»ç–—å¸ˆ</th>
          </tr></thead>
          <tbody>${w}</tbody>
        </table>
        <div class="signature-area">
          <div class="signature-item"><span>ç§‘å®¤è´Ÿè´£äººï¼š</span><span class="signature-line"></span></div>
          <div class="signature-item"><span>è®°å½•äººï¼š</span><span class="signature-line"></span></div>
        </div>
        <div class="footer">æ‰“å°æ—¶é—´ï¼š${l} | å…± ${s.length} åæ‚£è€… | å—äº¬å¸‚å„¿ç«¥åŒ»é™¢åº·å¤ç§‘</div>
      </div>
    </body>
    </html>
  `;m.document.write(S),m.document.close()};var De={exports:{}},Re,tt;function ca(){if(tt)return Re;tt=1;var s="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Re=s,Re}var $e,at;function da(){if(at)return $e;at=1;var s=ca();function m(){}function o(){}return o.resetWarningCache=m,$e=function(){function l(c,j,x,y,O,I){if(I!==s){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}l.isRequired=l;function w(){return l}var S={array:l,bigint:l,bool:l,func:l,number:l,object:l,string:l,symbol:l,any:l,arrayOf:w,element:l,elementType:l,instanceOf:w,node:l,objectOf:w,oneOf:w,oneOfType:w,shape:w,exact:w,checkPropTypes:o,resetWarningCache:m};return S.PropTypes=S,S},$e}var nt;function ma(){return nt||(nt=1,De.exports=da()()),De.exports}var pa=ma();const z=Vt(pa),Me=we.memo(S=>{var c=S,{children:s,className:m="",onClick:o,style:l}=c,w=Ae(c,["children","className","onClick","style"]);return e.jsx("div",N(v({className:`bg-white/60 backdrop-blur-xl rounded-2xl p-4 border border-white/50 shadow-sm ${m}`,onClick:o,style:l},w),{children:s}))});Me.displayName="GlassCard";Me.propTypes={children:z.node.isRequired,className:z.string,onClick:z.func,style:z.object};Me.defaultProps={className:"",onClick:void 0,style:void 0};const Be=we.memo(({isOpen:s,onClose:m,title:o,icon:l,children:w,className:S="",centered:c=!1,showCloseButton:j=!0})=>{if(!s)return null;const x=y=>{y.target===y.currentTarget&&m()};return e.jsx("div",{className:`fixed inset-0 bg-black/40 z-50 flex ${c?"items-center justify-center p-4":"items-end justify-center"}`,onClick:x,children:e.jsxs("div",{className:`bg-gradient-to-b from-white/95 to-slate-50/95 backdrop-blur-2xl ${c?"rounded-2xl max-w-md w-full":"rounded-t-[32px] w-full"} max-h-[90vh] overflow-y-auto animate-slide-up border-t border-white/80 shadow-2xl`,onClick:y=>y.stopPropagation(),children:[(o||j)&&e.jsxs("div",{className:"sticky top-0 bg-white/90 backdrop-blur-xl border-b border-slate-100 px-4 py-3 flex items-center justify-between z-10",children:[o&&e.jsxs("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[l,o]}),j&&e.jsx("button",{onClick:m,className:"p-2 hover:bg-slate-100 rounded-full transition-colors","aria-label":"Close",children:e.jsx(Oe,{size:20,className:"text-slate-500"})})]}),e.jsx("div",{className:`p-4 ${S}`,children:w})]})})});Be.displayName="ModalBase";Be.propTypes={isOpen:z.bool.isRequired,onClose:z.func.isRequired,title:z.string,icon:z.node,children:z.node.isRequired,className:z.string,centered:z.bool,showCloseButton:z.bool};Be.defaultProps={title:void 0,icon:void 0,className:"",centered:!1,showCloseButton:!0};const Fe=we.memo(j=>{var x=j,{children:s,onClick:m,className:o="",variant:l="default",disabled:w=!1,type:S="button"}=x,c=Ae(x,["children","onClick","className","variant","disabled","type"]);const y=l!=="default"?`btn-particle-${l}`:"";return e.jsxs("button",N(v({type:S,onClick:m,disabled:w,className:`btn-particle ${y} ${o}`},c),{children:[e.jsxs("div",{className:"points_wrapper",children:[e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"})]}),e.jsx("span",{className:"inner",children:s})]}))});Fe.displayName="ParticleButton";Fe.propTypes={children:z.node.isRequired,onClick:z.func,className:z.string,variant:z.oneOf(["default","cyan","emerald","red"]),disabled:z.bool,type:z.string};Fe.defaultProps={onClick:void 0,className:"",variant:"default",disabled:!1,type:"button"};const ua=r.lazy(()=>F(()=>import("./AIIntakeModal-BXoPZaX6-1772241646968.js"),__vite__mapDeps([0,1,2,3,4]))),ga=r.lazy(()=>F(()=>import("./BatchReportModal-DYCHUri2-1772241646968.js"),__vite__mapDeps([5,1,2,3,6]))),ha=r.lazy(()=>F(()=>import("./TemplatesModal-82i90oM4-1772241646968.js"),__vite__mapDeps([7,1,2]))),xa=r.lazy(()=>F(()=>import("./QuickEntryModal-DWv8WiTF-1772241646968.js"),__vite__mapDeps([8,1,2]))),fa=r.lazy(()=>F(()=>import("./DepartmentModal-F8W05w2z-1772241646968.js"),__vite__mapDeps([9,1,2]))),ba=r.lazy(()=>F(()=>import("./HomePage-CtHdOCYp-1772241646968.js"),__vite__mapDeps([10,1,2,3,4,11,12,13]))),ya=r.lazy(()=>F(()=>import("./PatientsPage-CFm_PUA1-1772241646968.js"),__vite__mapDeps([14,1,2,15,11,12]))),va=r.lazy(()=>F(()=>import("./PatientDetailPage-B5pRNg1p-1772241646968.js"),__vite__mapDeps([16,1,2,15,3,4,6,13]))),wa=r.lazy(()=>F(()=>import("./ProfilePage-DZlLXV3F-1772241646968.js"),__vite__mapDeps([17,1,2,13]))),Le=[{id:1,name:"å‘¼å¸å†…ç§‘",icon:"/images/departments/å‘¼å¸å†…ç§‘.png",color:"bg-blue-100 text-blue-600",patients:0,pending:0},{id:2,name:"æ¶ˆåŒ–å†…ç§‘",icon:"/images/departments/æ¶ˆåŒ–å†…ç§‘.png",color:"bg-green-100 text-green-600",patients:0,pending:0},{id:3,name:"ç¥ç»å†…ç§‘",icon:"/images/departments/ç¥ç»å†…ç§‘.png",color:"bg-purple-100 text-purple-600",patients:0,pending:0},{id:4,name:"å¿ƒè¡€ç®¡å†…ç§‘",icon:"/images/departments/å¿ƒè¡€ç®¡å†…ç§‘.png",color:"bg-red-100 text-red-600",patients:0,pending:0},{id:5,name:"åº·å¤ç§‘",icon:"/images/departments/åº·å¤ç§‘.png",color:"bg-cyan-100 text-cyan-600",patients:0,pending:0},{id:6,name:"å„¿ä¿ç§‘",icon:"/images/departments/å„¿ä¿ç§‘.png",color:"bg-pink-100 text-pink-600",patients:0,pending:0},{id:7,name:"å¤–ç§‘",icon:"/images/departments/å¤–ç§‘.png",color:"bg-rose-100 text-rose-600",patients:0,pending:0},{id:8,name:"éª¨ç§‘",icon:"/images/departments/éª¨ç§‘.png",color:"bg-amber-100 text-amber-600",patients:0,pending:0},{id:9,name:"å£è…”ç§‘",icon:"/images/departments/å£è…”ç§‘.png",color:"bg-yellow-100 text-yellow-600",patients:0,pending:0},{id:10,name:"çœ¼ç§‘",icon:"/images/departments/çœ¼ç§‘.png",color:"bg-sky-100 text-sky-600",patients:0,pending:0},{id:11,name:"è€³é¼»å–‰ç§‘",icon:"/images/departments/è€³é¼»å–‰ç§‘.png",color:"bg-violet-100 text-violet-600",patients:0,pending:0},{id:12,name:"çš®è‚¤ç§‘",icon:"/images/departments/çš®è‚¤ç§‘.png",color:"bg-orange-100 text-orange-600",patients:0,pending:0}],ja=Le.slice(0,2),st={å‘¼å¸:{icon:"ğŸ«",color:"bg-blue-100 text-blue-600"},æ–°ç”Ÿå„¿:{icon:"ğŸ‘¶",color:"bg-pink-100 text-pink-600"},ç¥ç»:{icon:"ğŸ§ ",color:"bg-purple-100 text-purple-600"},éª¨ç§‘:{icon:"ğŸ¦´",color:"bg-amber-100 text-amber-600"},å¿ƒè„:{icon:"â¤ï¸",color:"bg-red-100 text-red-600"},æ¶ˆåŒ–:{icon:"ğŸ½ï¸",color:"bg-green-100 text-green-600"},è‚¾è„:{icon:"ğŸ’§",color:"bg-cyan-100 text-cyan-600"},å†…åˆ†æ³Œ:{icon:"âš—ï¸",color:"bg-indigo-100 text-indigo-600"},è¡€æ¶²:{icon:"ğŸ©¸",color:"bg-rose-100 text-rose-600"},è‚¿ç˜¤:{icon:"ğŸ—ï¸",color:"bg-violet-100 text-violet-600"},æ„ŸæŸ“:{icon:"ğŸ¦ ",color:"bg-lime-100 text-lime-600"},é‡ç—‡:{icon:"ğŸ¥",color:"bg-slate-100 text-slate-600"},åº·å¤:{icon:"ğŸƒ",color:"bg-emerald-100 text-emerald-600"},å„¿ç«¥:{icon:"ğŸ‘§",color:"bg-orange-100 text-orange-600"},default:{icon:"ğŸ¥",color:"bg-gray-100 text-gray-600"}},ot=[{id:1,category:"å‘¼å¸åº·å¤",icon:"ğŸ«",color:"bg-blue-50 border-blue-200",items:[{name:"è…¹å¼å‘¼å¸è®­ç»ƒ",duration:"10-15min",icon:"ğŸ«"},{name:"ç¼©å”‡å‘¼å¸è®­ç»ƒ",duration:"10min",icon:"ğŸ’¨"},{name:"èƒ¸å»“æ¾åŠ¨æœ¯",duration:"15min",icon:"ğŸ™†"},{name:"ä½“ä½å¼•æµ",duration:"20min",icon:"ğŸ›ï¸"},{name:"æœ‰æ•ˆå’³å—½è®­ç»ƒ",duration:"10min",icon:"ğŸ˜¤"},{name:"å‘¼å¸è‚Œè®­ç»ƒ",duration:"15min",icon:"ğŸ’ª"}]},{id:2,category:"ç¥ç»åº·å¤",icon:"ğŸ§ ",color:"bg-purple-50 border-purple-200",items:[{name:"BobathæŠ€æœ¯",duration:"25-30min",icon:"ğŸ¤¸"},{name:"PNFæŠ€æœ¯",duration:"20min",icon:"ğŸ”„"},{name:"å¹³è¡¡è®­ç»ƒ",duration:"15-20min",icon:"âš–ï¸"},{name:"æ­¥æ€è®­ç»ƒ",duration:"20-30min",icon:"ğŸš¶"},{name:"ç²¾ç»†è¿åŠ¨è®­ç»ƒ",duration:"20min",icon:"âœ‹"},{name:"è®¤çŸ¥è®­ç»ƒ",duration:"15-20min",icon:"ğŸ§©"},{name:"æ„Ÿç»Ÿè®­ç»ƒ",duration:"25min",icon:"ğŸ¯"},{name:"è¨€è¯­è®­ç»ƒ",duration:"20min",icon:"ğŸ—£ï¸"}]},{id:3,category:"éª¨ç§‘åº·å¤",icon:"ğŸ¦´",color:"bg-orange-50 border-orange-200",items:[{name:"å…³èŠ‚æ¾åŠ¨æœ¯",duration:"15-20min",icon:"ğŸ”„"},{name:"è‚ŒåŠ›è®­ç»ƒ",duration:"20min",icon:"ğŸ’ª"},{name:"ç‰µä¼¸è®­ç»ƒ",duration:"15min",icon:"ğŸ§˜"},{name:"ç‰©ç†å› å­æ²»ç–—",duration:"20min",icon:"âš¡"},{name:"æ­¥æ€è®­ç»ƒ",duration:"20min",icon:"ğŸš¶"},{name:"å¹³è¡¡è®­ç»ƒ",duration:"15min",icon:"âš–ï¸"}]},{id:4,category:"å„¿ç«¥ç‰¹è‰²",icon:"ğŸ®",color:"bg-pink-50 border-pink-200",items:[{name:"æ¸¸æˆåŒ–è®­ç»ƒ",duration:"20-30min",icon:"ğŸ®"},{name:"éŸ³ä¹æ²»ç–—",duration:"20min",icon:"ğŸµ"},{name:"æ°´ä¸­è¿åŠ¨",duration:"30min",icon:"ğŸŠ"},{name:"äº²å­äº’åŠ¨è®­ç»ƒ",duration:"25min",icon:"ğŸ‘¨â€ğŸ‘©â€ğŸ‘§"},{name:"æ²™ç›˜æ¸¸æˆ",duration:"20min",icon:"ğŸ–ï¸"}]}];function ka(){const m=(()=>{const t=new URLSearchParams(window.location.search);return{deptId:t.get("dept")?parseInt(t.get("dept")):null,readonly:t.get("readonly")==="true"}})(),[o,l]=r.useState(()=>m.deptId?"patients":"home"),[w,S]=r.useState(()=>{if(m.deptId){const t=Le.find(a=>a.id===m.deptId);if(t)return t;try{return JSON.parse(localStorage.getItem("rehab_departments")||"[]").find(n=>n.id===m.deptId)||null}catch(a){return null}}return null}),[c,j]=r.useState(null),[x,y]=r.useState([]),[O,I]=r.useState(!0),[T,$]=r.useState(m.readonly?"doctor":"therapist"),[le,je]=r.useState(m.deptId),[E,W]=r.useState(!1),[H,V]=r.useState(!1),[ke,ce]=r.useState(!1),[it,Ne]=r.useState(!1),[Pe,Q]=r.useState(!1),[rt,X]=r.useState("today"),[lt,Se]=r.useState(!1),[ct,de]=r.useState(!1),[Ce,te]=r.useState(!1),[ae,K]=r.useState(null),[dt,ne]=r.useState(!1),[B,se]=r.useState(null),[me,Te]=r.useState(null),[U,_e]=r.useState(()=>{try{const t=localStorage.getItem("rehab_departments");if(t){const a=JSON.parse(t);if(Array.isArray(a)&&a.length>0)return a}}catch(t){}return ja});r.useEffect(()=>{localStorage.setItem("rehab_departments",JSON.stringify(U))},[U]);const[mt,pt]=r.useState(!1),[ut,qe]=r.useState(!1),[gt,ht]=r.useState({name:"",icon:""}),[xt,J]=r.useState(0),[u,R]=r.useState(null),[ft,oe]=r.useState(null),[bt,pe]=r.useState(0),[yt,ue]=r.useState(""),[vt,ge]=r.useState(!1),[wt,He]=r.useState(!1);r.useRef(null);const[ze,he]=r.useState([]),[jt,ie]=r.useState(0),C=r.useCallback((t,a="success")=>{Te({message:t,type:a}),setTimeout(()=>Te(null),3e3)},[]),[kt,Ue]=r.useState(0);r.useEffect(()=>{let t=!1;function a(){return _(this,null,function*(){try{I(!0);const n=yield M("/api/patients");if(t)return;const d=Array.isArray(n==null?void 0:n.items)?n.items:[];y(d)}catch(n){console.error("åŠ è½½æ‚£è€…æ•°æ®å¤±è´¥:",n)}finally{t||I(!1)}})}return a(),()=>{t=!0}},[kt]);const Ge=r.useCallback((t,a)=>!t||!a?t!==a:t.id!==a.id||t.name!==a.name||t.updatedAt!==a.updatedAt,[]);r.useEffect(()=>{if(c){const t=x.find(a=>a.id===c.id);t&&Ge(t,c)&&j(t)}},[x,c,Ge]);const Y=(t,a=null)=>{l(t),te(!1),K(null),R(null),J(0),oe(null),pe(0),ue(""),he([]),ie(0),t==="home"&&(S(null),j(null),X("today")),t==="patients"&&(j(null),X("today"),a&&S(a)),t==="patientDetail"&&a&&(j(a),X("today")),Q(!1)},We=()=>{te(!1),K(null),R(null),J(0),oe(null),pe(0),ue(""),he([]),ie(0),o==="patientDetail"?(l(w?"patients":"home"),j(null),X("today")):o==="patients"&&(le||(l("home"),S(null)))},Ve=t=>x.filter(a=>a.departmentId===t),Nt=r.useCallback((t,a)=>_(null,null,function*(){if(T!=="therapist")return;const n=x.find(i=>i.id===t);if(!n)return;const d=n.treatmentPlan.items.map(i=>i.id===a?N(v({},i),{completed:!i.completed}):i),g=N(v({},n),{treatmentPlan:N(v({},n.treatmentPlan),{items:d})});y(i=>i.map(k=>k.id===t?g:k)),(c==null?void 0:c.id)===t&&j(g);try{yield M(`/api/patients/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({patient:g})})}catch(i){console.error("ä¿å­˜æ²»ç–—é¡¹ç›®çŠ¶æ€å¤±è´¥:",i)}}),[T,x,c==null?void 0:c.id]),xe=(t,a)=>_(null,null,function*(){const n=x.find(g=>g.id===t);if(!n)return;const d=v(v({},n),a);y(g=>g.map(i=>i.id===t?d:i)),(c==null?void 0:c.id)===t&&j(d);try{const g=yield M(`/api/patients/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({patient:d})});g!=null&&g.success||console.error("ä¿å­˜åˆ°æ•°æ®åº“å¤±è´¥:",g==null?void 0:g.error)}catch(g){console.error("ä¿å­˜åˆ°æ•°æ®åº“å¤±è´¥:",g)}}),Pt=t=>_(null,null,function*(){try{const a=yield M(`/api/patients/${t}`,{method:"DELETE"});y(n=>n.filter(d=>d.id!==t)),Ue(n=>n+1),j(null),de(!1),Y("home"),C("æ‚£è€…å·²åˆ é™¤","success")}catch(a){C(a.message||"åˆ é™¤å¤±è´¥","error")}});function St(t){return _(this,null,function*(){const a=new FormData;for(const d of t)a.append("files",d);const n=yield M("/api/cases",{method:"POST",body:a});if(!(n!=null&&n.success))throw new Error((n==null?void 0:n.error)||"åˆ›å»ºç—…ä¾‹å¤±è´¥");return n.caseId})}function Ct(t){return _(this,null,function*(){const a=yield M(`/api/cases/${t}/extract`,{method:"POST",headers:{"Content-Type":"application/json"},body:"{}"});if(!(a!=null&&a.success))throw new Error((a==null?void 0:a.error)||"æŠ½å–å¤±è´¥");return{runId:a.runId,profile:a.profile}})}function Je(t,a){return _(this,null,function*(){const n=yield M(`/api/cases/${t}/plan`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({profile:a})});if(!(n!=null&&n.success))throw new Error((n==null?void 0:n.error)||"ç”Ÿæˆæ–¹æ¡ˆå¤±è´¥");return{runId:n.runId,plan:n.plan}})}function Tt(t){return _(this,null,function*(){const a=yield M(`/api/cases/${t}/analyze`,{method:"POST",headers:{"Content-Type":"application/json"},body:"{}"});if(!(a!=null&&a.success))throw new Error((a==null?void 0:a.error)||"åˆ†æå¤±è´¥");return{profile:a.profile,plan:a.plan}})}const _t=t=>_(null,null,function*(){const a=Array.from(t.target.files||[]).filter(Boolean);if(t.target.value="",a.length){const n=a[0],d=new FileReader;d.onloadend=()=>_(null,null,function*(){var g,i,k,A,L,G;oe(d.result),J(1),ge(!0);try{const f=yield St(a);let p=null,P=null;try{const h=yield Tt(f);p=h.profile,P=h.plan}catch(h){console.warn("ä¸€æ¬¡æ€§åˆ†æå¤±è´¥ï¼Œå°è¯•åˆ†æ­¥å¤„ç†:",h);try{p=(yield Ct(f)).profile;try{P=(yield Je(f,p)).plan}catch(Z){console.warn("ç”Ÿæˆæ–¹æ¡ˆè¶…æ—¶ï¼Œå…è®¸æ‰‹åŠ¨å¡«å†™:",Z),C("AIç”Ÿæˆæ–¹æ¡ˆè¶…æ—¶ï¼Œè¯·æ‰‹åŠ¨å¡«å†™æ²»ç–—æ–¹æ¡ˆ","warning")}}catch(q){throw new Error("è¯†åˆ«æ‚£è€…ä¿¡æ¯å¤±è´¥: "+q.message)}}const Ie=["ç”·","å¥³","æœªçŸ¥"].includes((g=p==null?void 0:p.patient)==null?void 0:g.gender)?p.patient.gender:"æœªçŸ¥",re=Array.isArray(P==null?void 0:P.gasGoals)?P.gasGoals:[],b=()=>{var q,Z,be;if(p!=null&&p.rehabProblems)return p.rehabProblems;const h=[];return(q=p==null?void 0:p.keyFindings)!=null&&q.length&&h.push(...p.keyFindings.slice(0,2)),(Z=P==null?void 0:P.highlights)!=null&&Z.length&&h.push(...P.highlights.slice(0,2)),(be=p==null?void 0:p.monitoring)!=null&&be.length&&h.push(`éœ€ç›‘æµ‹ï¼š${p.monitoring.slice(0,2).join("ã€")}`),h.length>0?h.join("ï¼›"):""};R({_caseId:f,name:((i=p==null?void 0:p.patient)==null?void 0:i.name)||"",age:((k=p==null?void 0:p.patient)==null?void 0:k.age)||"",gender:Ie||"æœªçŸ¥",diagnosis:((A=p==null?void 0:p.patient)==null?void 0:A.diagnosis)||"",department:((L=p==null?void 0:p.patient)==null?void 0:L.department)||"å‘¼å¸å†…ç§‘",bedNo:((G=p==null?void 0:p.patient)==null?void 0:G.bedNo)||"",medicalRecordImage:d.result,rehabProblems:b(),gasGoals:re.length?re.slice(0,2).map(h=>({name:h.name||"",target:Number(h.target||100),current:Number(h.current||0)})):[{name:"åŠŸèƒ½ç›®æ ‡1",target:100,current:0},{name:"åŠŸèƒ½ç›®æ ‡2",target:100,current:0}],treatmentPlan:{focus:(P==null?void 0:P.focus)||"",highlights:[],items:Array.isArray(P==null?void 0:P.items)?P.items.map((h,q)=>({id:Date.now()+q,name:h.name||"",icon:"ğŸ¯",duration:h.duration||"",completed:!1,note:h.notes||""})):[],precautions:Array.isArray(P==null?void 0:P.precautions)?P.precautions:[]},safetyAlerts:Array.isArray(p==null?void 0:p.risks)?p.risks:[]}),J(2)}catch(f){console.error("AIè¯†åˆ«å¤±è´¥:",f),C("AIè¯†åˆ«å¤±è´¥: "+f.message,"error"),R({_caseId:null,name:"",age:"",gender:"æœªçŸ¥",diagnosis:"",department:"å‘¼å¸å†…ç§‘",bedNo:"",medicalRecordImage:d.result,rehabProblems:"",gasGoals:[{name:"åŠŸèƒ½ç›®æ ‡1",target:100,current:0},{name:"åŠŸèƒ½ç›®æ ‡2",target:100,current:0}],treatmentPlan:{focus:"",highlights:[],items:[],precautions:[]},safetyAlerts:[]}),J(2)}finally{ge(!1)}}),d.readAsDataURL(n)}}),zt=()=>_(null,null,function*(){if(!(u!=null&&u._caseId)){C("ç¼ºå°‘ç—…ä¾‹IDï¼Œè¯·é‡æ–°ä¸Šä¼ ","error");return}ge(!0);try{const t={patient:{name:u.name,gender:u.gender,age:u.age,bedNo:u.bedNo,department:u.department,diagnosis:u.diagnosis,admissionDate:null},risks:u.safetyAlerts||[]},{plan:a}=yield Je(u._caseId,t);R(n=>N(v({},n),{treatmentPlan:{focus:a.focus||n.treatmentPlan.focus,highlights:[],items:Array.isArray(a.items)?a.items.map((d,g)=>({id:Date.now()+g,name:d.name||"",icon:"ğŸ¯",duration:d.duration||"",completed:!1,note:d.notes||""})):n.treatmentPlan.items,precautions:Array.isArray(a.precautions)?a.precautions:n.treatmentPlan.precautions}})),setTimeout(()=>Ye(),300)}catch(t){C(t.message||"ç”Ÿæˆæ–¹æ¡ˆå¤±è´¥","error")}finally{ge(!1)}}),It=(t,a)=>{R(n=>N(v({},n),{[t]:a}))},At=r.useCallback((t,a="")=>_(null,null,function*(){var re;if(!t)return;const d=new Date().toISOString().split("T")[0],g=t.treatmentPlan.items.filter(b=>b.completed).map(b=>({name:b.name,duration:b.duration||"5åˆ†é’Ÿ"})),i=g.length>0?g:t.treatmentPlan.items.map(b=>({name:b.name,duration:b.duration||"5åˆ†é’Ÿ"}));try{const b=yield M(`/api/patients/${t.id}/generate-log`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({patient:{name:t.name,age:t.age,diagnosis:t.diagnosis,admissionDate:t.admissionDate},treatmentPlan:t.treatmentPlan,completedItems:i,previousLogs:(t.treatmentLogs||[]).slice(0,3),supplementNotes:a||t.supplementNotes||""})});if(b!=null&&b.success&&b.log){const h=b.log,q=(h.items||i).map(ye=>`â€¢ ${ye.name}ï¼ˆ${ye.duration}ï¼‰${ye.detail?"ï¼š"+ye.detail:""}`).join(`
`),Z=`ã€è®­ç»ƒé‡ç‚¹ã€‘
${h.highlight}

ã€å®Œæˆé¡¹ç›®ã€‘
${q}

ã€é…åˆæƒ…å†µã€‘
é…åˆåº¦ï¼š${h.cooperation} | è€å—æ€§ï¼š${h.tolerance}

ã€è§‚å¯Ÿè®°å½•ã€‘
${h.notes}

ã€å®‰å…¨æé†’ã€‘
${h.safety}`,be={date:d,highlight:h.highlight,items:h.items||i,cooperation:h.cooperation,tolerance:h.tolerance,notes:h.notes,safety:h.safety,detailRecord:Z,therapist:"å´å¤§å‹‡"};se(be),ne(!0);return}}catch(b){console.warn("AIç”Ÿæˆæ—¥å¿—å¤±è´¥ï¼Œä½¿ç”¨æœ¬åœ°æ¨¡æ¿:",b)}const k=b=>b[Math.floor(Math.random()*b.length)],A=["ä¼˜ç§€","ä¼˜ç§€","è‰¯å¥½","è‰¯å¥½","è‰¯å¥½","ä¸€èˆ¬"],L=["ä¼˜ç§€","ä¼˜ç§€","è‰¯å¥½","è‰¯å¥½","è‰¯å¥½","ä¸€èˆ¬"],G=t.logTemplates||[];let f;if(G.length>0){const b=Math.floor(Math.random()*G.length);f=v({},G[b]),Math.random()>.7&&(f.cooperation=k(A)),Math.random()>.7&&(f.tolerance=k(L))}else{const b=k(A),h=k(L);f={highlight:`æ‚£å„¿ä»Šæ—¥${b==="ä¼˜ç§€"?"ä¸»åŠ¨":""}é…åˆè®­ç»ƒï¼Œå®Œæˆè®¡åˆ’é¡¹ç›®`,cooperation:b,tolerance:h,notes:`æ‚£å„¿ä»Šæ—¥ç²¾ç¥${b==="ä¼˜ç§€"?"é¥±æ»¡":"å°šå¯"}ï¼Œæƒ…ç»ª${h==="ä¼˜ç§€"?"ç¨³å®š":"å¹³ç¨³"}ã€‚è®­ç»ƒæ—¶${b==="ä¼˜ç§€"?"ä¸»åŠ¨é…åˆ":"åŸºæœ¬é…åˆ"}ï¼Œå®Œæˆè®¡åˆ’é¡¹ç›®ã€‚è®­ç»ƒå${h==="ä¼˜ç§€"?"æ— æ˜æ˜¾ç–²åŠ³":"ç•¥æ„Ÿç–²åŠ³"}ï¼Œæœªè§ä¸é€‚ä¸»è¯‰ã€‚`,safety:((re=t.treatmentPlan.precautions)==null?void 0:re[0])||"ç»§ç»­è§‚å¯Ÿæ‚£å„¿ååº”ï¼Œå¦‚æœ‰ä¸é€‚åŠæ—¶è°ƒæ•´"}}const p=i.map(b=>`â€¢ ${b.name}ï¼ˆ${b.duration}ï¼‰`).join(`
`),P=`ã€è®­ç»ƒé‡ç‚¹ã€‘
${f.highlight}

ã€å®Œæˆé¡¹ç›®ã€‘
${p}

ã€é…åˆæƒ…å†µã€‘
é…åˆåº¦ï¼š${f.cooperation} | è€å—æ€§ï¼š${f.tolerance}

ã€è§‚å¯Ÿè®°å½•ã€‘
${f.notes}

ã€å®‰å…¨æé†’ã€‘
${f.safety}`,Ie={date:d,highlight:f.highlight,items:i,cooperation:f.cooperation,tolerance:f.tolerance,notes:f.notes,safety:f.safety,detailRecord:P,therapist:"å´å¤§å‹‡"};se(Ie),ne(!0)}),[]),Dt=r.useCallback(()=>_(null,null,function*(){if(!B||!c)return;const t=[B,...c.treatmentLogs||[]],a=N(v({},c),{treatmentLogs:t,todayTreated:!0});j(a),y(n=>n.map(d=>d.id===c.id?a:d));try{yield M(`/api/patients/${c.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({patient:a})})}catch(n){console.error("ä¿å­˜æ—¥å¿—åˆ°æ•°æ®åº“å¤±è´¥:",n)}ne(!1),se(null),X("logs"),C("ä»Šæ—¥æ²»ç–—æ—¥å¿—å·²ä¿å­˜","success")}),[B,c,C]),Rt=r.useCallback(()=>{Ce?(K(null),te(!1)):(K(JSON.parse(JSON.stringify(c))),te(!0))},[Ce,c]),$t=r.useCallback(()=>_(null,null,function*(){ae&&(yield xe(ae.id,ae),te(!1),K(null),C("ä¿å­˜æˆåŠŸ","success"))}),[ae,xe,C]),Ot=()=>{R(t=>N(v({},t),{treatmentPlan:N(v({},t.treatmentPlan),{items:[...t.treatmentPlan.items,{id:Date.now(),name:"",icon:"ğŸ’Š",duration:"",completed:!1,note:""}]})}))},Et=(t,a,n)=>{R(d=>N(v({},d),{treatmentPlan:N(v({},d.treatmentPlan),{items:d.treatmentPlan.items.map((g,i)=>i===t?N(v({},g),{[a]:n}):g)})}))},Lt=t=>{R(a=>N(v({},a),{treatmentPlan:N(v({},a.treatmentPlan),{items:a.treatmentPlan.items.filter((n,d)=>d!==t)})}))},Mt=t=>{t&&!u.safetyAlerts.includes(t)&&R(a=>N(v({},a),{safetyAlerts:[...a.safetyAlerts,t]}))},Bt=t=>{R(a=>N(v({},a),{safetyAlerts:a.safetyAlerts.filter((n,d)=>d!==t)}))},Ft=()=>u.name.trim()?u.age.trim()?u.diagnosis.trim()?u.bedNo.trim()?!0:(C("è¯·è¾“å…¥åºŠå·","error"),!1):(C("è¯·è¾“å…¥è¯Šæ–­ä¿¡æ¯","error"),!1):(C("è¯·è¾“å…¥æ‚£å„¿å¹´é¾„","error"),!1):(C("è¯·è¾“å…¥æ‚£å„¿å§“å","error"),!1),Ye=()=>{if(!Ft())return;const t=i=>{const k=U.find(f=>f.name===i);if(k)return k.id;const A=Math.max(...U.map(f=>f.id),0)+1;let L=st.default;for(const[f,p]of Object.entries(st))if(f!=="default"&&i.includes(f)){L=p;break}const G={id:A,name:i,icon:L.icon,color:L.color,patients:0,pending:0};return _e(f=>[...f,G]),C(`å·²è‡ªåŠ¨åˆ›å»ºæ–°ç§‘å®¤ï¼š${i}`,"success"),A},a=i=>{if(i.includes("å¤©")||i.includes("æœˆ"))return"ğŸ‘¶";if(i.includes("å²")){const k=parseInt(i);if(k<=3)return"ğŸ‘¶";if(k<=6)return Math.random()>.5?"ğŸ‘¦":"ğŸ‘§"}return u.gender==="ç”·"?"ğŸ‘¦":"ğŸ‘§"},n=u.gasGoals.length>0?Math.round(u.gasGoals.reduce((i,k)=>{const A=Number(k.target)||1,L=Number(k.current)||0;return i+L/A*100},0)/u.gasGoals.length):0,d={name:u.name.trim(),age:u.age.trim(),gender:u.gender,bedNo:u.bedNo.trim(),departmentId:t(u.department),department:u.department,avatar:a(u.age),diagnosis:u.diagnosis.trim(),admissionDate:new Date().toISOString().split("T")[0],status:"active",todayTreated:!1,medicalRecordImage:u.medicalRecordImage,rehabProblems:u.rehabProblems||"",safetyAlerts:u.safetyAlerts,gasScore:n,gasGoals:u.gasGoals.filter(i=>i.name.trim()),treatmentPlan:{focus:u.treatmentPlan.focus||"åº·å¤è®­ç»ƒ",highlights:u.treatmentPlan.highlights.filter(i=>i.trim()),items:u.treatmentPlan.items.filter(i=>i.name.trim()),precautions:u.treatmentPlan.precautions.filter(i=>i.trim())},treatmentLogs:[],homework:[]};He(!0),_(null,null,function*(){try{const i=yield M("/api/patients",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({patient:d,plan:d.treatmentPlan,caseId:u._caseId||null})});if(!(i!=null&&i.success))throw new Error((i==null?void 0:i.error)||"ä¿å­˜å¤±è´¥");const k=i.patient||N(v({},d),{id:i.patientId});y(A=>[...A,k]),Ue(A=>A+1),W(!1),J(0),R(null),oe(null),ue(""),pe(0),Y("patientDetail",k),C("å»ºæ¡£æˆåŠŸ","success")}catch(i){console.error("å»ºæ¡£å¤±è´¥:",i),C(i.message||"ä¿å­˜å¤±è´¥ï¼Œè¯·é‡è¯•","error")}finally{He(!1)}})},Ze=()=>{const t=x.filter(a=>a.status==="active"&&!a.todayTreated);he(t.map(a=>N(v({},a),{generatedRecord:{items:a.treatmentPlan.items.map(n=>n.name),highlight:`å¸¸è§„${a.treatmentPlan.focus}è®­ç»ƒ`,notes:"æ‚£å„¿é…åˆè‰¯å¥½ï¼Œè®­ç»ƒé¡ºåˆ©å®Œæˆ",confirmed:!1}}))),ie(0),ce(!0)},qt=(t,a)=>{he(g=>g.map((i,k)=>k===t?N(v({},i),{generatedRecord:N(v({},a),{confirmed:!0})}):i));const n=ze[t],d={date:"2026-01-11",items:a.items,highlight:a.highlight,notes:a.notes,therapist:"å´å¤§å‹‡"};xe(n.id,{todayTreated:!0,treatmentLogs:[d,...n.treatmentLogs]}),t<ze.length-1&&ie(t+1)},Ht=()=>e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 z-50",children:[e.jsx("div",{className:"absolute inset-0 bottom-nav"}),e.jsxs("div",{className:"relative px-6 py-2 flex items-center justify-between safe-area-bottom",children:[e.jsx(Qe,{icon:e.jsx(ta,{size:22}),label:"é¦–é¡µ",active:["home","patients","patientDetail"].includes(o),onClick:()=>Y("home")}),T==="therapist"&&e.jsxs("div",{className:"relative -mt-8",children:[e.jsx("button",{onClick:()=>Q(!Pe),className:`w-14 h-14 rounded-full flex items-center justify-center transition-all shadow-lg active:scale-90 ${Pe?"bg-slate-600 rotate-45":"bg-gradient-to-br from-pink-400 to-rose-500 shadow-pink-300/50"}`,children:e.jsx(aa,{size:28,className:"text-white"})}),Pe&&e.jsxs("div",{className:"absolute bottom-20 left-1/2 -translate-x-1/2 bg-white/95 backdrop-blur-xl rounded-2xl p-2 min-w-[200px] shadow-xl border border-slate-100 animate-scale-in",children:[e.jsx(fe,{icon:e.jsx(na,{size:20}),label:"AIæ™ºèƒ½æ”¶æ²»",color:"text-blue-500",onClick:()=>{W(!0),Q(!1)}}),e.jsx(fe,{icon:e.jsx(ra,{size:20}),label:"æ‰¹é‡ç”Ÿæˆæ—¥æŠ¥",color:"text-amber-500",onClick:()=>{Ze(),Q(!1)}}),e.jsx(fe,{icon:e.jsx(Yt,{size:20}),label:"æ²»ç–—æ¨¡æ¿åº“",color:"text-emerald-500",onClick:()=>{Ne(!0),Q(!1)}}),e.jsx(fe,{icon:e.jsx(Kt,{size:20}),label:"å¿«é€Ÿå½•å…¥",color:"text-rose-500",onClick:()=>{V(!0),Q(!1)}})]})]}),T==="doctor"&&e.jsx("div",{className:"w-14"}),e.jsx(Qe,{icon:e.jsx(ia,{size:22}),label:"æˆ‘çš„",active:o==="profile",onClick:()=>Y("profile")})]})]}),Qe=we.memo(({icon:t,label:a,active:n,onClick:d,badge:g})=>e.jsxs("button",{onClick:d,className:`flex flex-col items-center gap-0.5 px-4 py-1.5 rounded-xl transition-all duration-200 ${n?"text-blue-500":"text-slate-400 hover:text-slate-600"}`,children:[e.jsxs("div",{className:"relative",children:[t,g>0&&e.jsx("span",{className:"absolute -top-1 -right-2 bg-rose-500 text-white text-[10px] w-4 h-4 rounded-full flex items-center justify-center font-bold",children:g})]}),e.jsx("span",{className:`text-[10px] font-medium ${n?"text-blue-500":""}`,children:a})]})),fe=({icon:t,label:a,color:n,onClick:d})=>e.jsxs("button",{onClick:d,className:"flex items-center gap-3 w-full px-4 py-3 hover:bg-slate-50 rounded-xl transition-all duration-200 active:scale-98",children:[e.jsx("span",{className:n,children:t}),e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:a})]});return e.jsxs("div",{className:"max-w-md mx-auto min-h-screen relative gradient-bg-soft",children:[e.jsxs(r.Suspense,{fallback:e.jsx(Jt,{}),children:[o==="home"&&e.jsx(ba,{userRole:T,patients:x,isLoadingPatients:O,departments:U,getDepartmentPatients:Ve,navigateTo:Y,setShowAIModal:W,initBatchGenerate:Ze,isEditingDepartments:mt,setIsEditingDepartments:pt,setDepartments:_e,showToast:C,setShowAddDepartment:qe}),o==="patients"&&e.jsx(ya,{selectedDepartment:w,getDepartmentPatients:Ve,isLoadingPatients:O,goBack:We,navigateTo:Y}),o==="patientDetail"&&e.jsx(va,{selectedPatient:c,userRole:T,detailTab:rt,setDetailTab:X,isEditingDetail:Ce,editedPatient:ae,setEditedPatient:K,goBack:We,savePatientEdit:$t,toggleEditMode:Rt,setShowDeleteConfirm:de,toggleTreatmentItem:Nt,generateTodayLog:At,setShowQuickEntry:V,updatePatient:xe}),o==="profile"&&e.jsx(wa,{userRole:T,setUserRole:$,setShowTemplates:Ne})]}),e.jsx(Ht,{}),e.jsxs(r.Suspense,{fallback:null,children:[e.jsx(ua,{isOpen:E,onClose:()=>W(!1),aiStep:xt,setAiStep:J,aiResult:u,setAiResult:R,uploadedImage:ft,setUploadedImage:oe,ocrText:yt,setOcrText:ue,ocrProgress:bt,setOcrProgress:pe,handleImageUpload:_t,updateFormField:It,addSafetyAlert:Mt,removeSafetyAlert:Bt,addTreatmentItem:Ot,updateTreatmentItem:Et,removeTreatmentItem:Lt,handleGeneratePlan:zt,confirmAdmission:Ye,isOcrProcessing:vt,isSavingPatient:wt,departments:U}),e.jsx(ga,{isOpen:ke,onClose:()=>ce(!1),batchPatients:ze,currentBatchIndex:jt,setCurrentBatchIndex:ie,confirmBatchItem:qt,printBatchRecords:la}),e.jsx(ha,{isOpen:it,onClose:()=>Ne(!1),treatmentTemplates:ot}),e.jsx(xa,{isOpen:H,onClose:()=>V(!1),treatmentTemplates:ot}),e.jsx(fa,{isOpen:ut,onClose:()=>qe(!1),newDepartment:gt,setNewDepartment:ht,allDepartments:Le,onSave:t=>{const a=["bg-blue-100 text-blue-600","bg-green-100 text-green-600","bg-purple-100 text-purple-600","bg-red-100 text-red-600","bg-cyan-100 text-cyan-600","bg-pink-100 text-pink-600","bg-amber-100 text-amber-600","bg-orange-100 text-orange-600"],n=a[Math.floor(Math.random()*a.length)],d={id:Math.max(...U.map(g=>g.id))+1,name:t.name.trim(),icon:t.icon,color:n,patients:0,pending:0};_e([...U,d]),C("ç§‘å®¤æ·»åŠ æˆåŠŸ")},showToast:C})]}),lt&&e.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-end justify-center",onClick:()=>Se(!1),children:e.jsxs("div",{className:"bg-gradient-to-b from-white/95 to-slate-50/95 backdrop-blur-2xl rounded-t-[32px] w-full max-h-[85vh] overflow-y-auto border-t border-white/80 shadow-2xl",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"sticky top-0 bg-white/90 backdrop-blur-xl border-b border-slate-100 px-4 py-3 flex items-center justify-between z-10",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-800",children:["å…¨éƒ¨æ‚£è€… (",x.length,")"]}),e.jsx("button",{onClick:()=>Se(!1),className:"p-2 hover:bg-slate-100 rounded-full",children:e.jsx(Oe,{size:20,className:"text-slate-500"})})]}),e.jsx("div",{className:"p-4 space-y-2",children:x.filter(t=>t.status==="active").map(t=>e.jsx("button",{onClick:()=>{Se(!1),Y("patientDetail",t)},className:"w-full bg-white/60 backdrop-blur-xl rounded-2xl p-3 border border-white/50 shadow-sm hover:bg-white/80 transition-all active:scale-[0.98]",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-100 to-purple-100 rounded-2xl flex items-center justify-center text-xl border-2 border-white shadow-sm",children:t.avatar}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold text-slate-800",children:t.name}),e.jsx("span",{className:"text-xs text-slate-400",children:t.age}),e.jsx("span",{className:"text-xs bg-slate-100 text-slate-600 px-1.5 rounded-lg",children:t.bedNo})]}),e.jsxs("p",{className:"text-xs text-slate-500",children:[t.department," Â· ",t.diagnosis]})]}),e.jsx(Zt,{size:18,className:"text-slate-300"})]})},t.id))})]})}),ct&&c&&e.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center p-4",onClick:()=>de(!1),children:e.jsxs("div",{className:"bg-white/95 backdrop-blur-2xl rounded-3xl p-6 max-w-sm w-full shadow-2xl border border-white/80",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-rose-100 rounded-2xl flex items-center justify-center",children:e.jsx(oa,{size:24,className:"text-rose-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"ç¡®è®¤åˆ é™¤"}),e.jsx("p",{className:"text-sm text-slate-400",children:"æ­¤æ“ä½œæ— æ³•æ’¤é”€"})]})]}),e.jsxs("p",{className:"text-slate-600 mb-6",children:["ç¡®å®šè¦åˆ é™¤æ‚£è€… ",e.jsx("span",{className:"font-bold text-slate-800",children:c.name})," çš„æ‰€æœ‰ä¿¡æ¯å—ï¼Ÿ"]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>de(!1),className:"flex-1 px-4 py-2.5 bg-slate-100 text-slate-600 rounded-xl font-semibold hover:bg-slate-200 transition-colors",children:"å–æ¶ˆ"}),e.jsxs("button",{onClick:()=>Pt(c.id),className:"flex-1 btn-particle btn-particle-rose py-2.5 rounded-xl",children:[e.jsxs("div",{className:"points_wrapper",children:[e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"})]}),e.jsx("span",{className:"inner",children:"ç¡®è®¤åˆ é™¤"})]})]})]})}),dt&&B&&e.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center p-4",onClick:()=>ne(!1),children:e.jsxs("div",{className:"bg-white/95 backdrop-blur-2xl rounded-3xl p-6 max-w-md w-full shadow-2xl max-h-[80vh] overflow-y-auto border border-white/80",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-2xl flex items-center justify-center",children:e.jsx(ea,{size:24,className:"text-emerald-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"ç¡®è®¤æ²»ç–—æ—¥å¿—"}),e.jsx("p",{className:"text-sm text-slate-400",children:B.date})]})]}),e.jsx("div",{className:"bg-amber-50 border border-amber-100 rounded-2xl p-4 mb-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(sa,{size:16,className:"text-amber-500 mt-0.5"}),e.jsx("div",{className:"flex-1",children:e.jsx("textarea",{value:B.highlight,onChange:t=>se(N(v({},B),{highlight:t.target.value})),className:"w-full text-sm font-semibold text-slate-700 leading-relaxed bg-transparent border-none outline-none resize-none",rows:2})})]})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"text-xs text-slate-400 mb-2 block font-medium",children:"å®Œæˆé¡¹ç›®"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:B.items.map((t,a)=>e.jsx("span",{className:"bg-blue-100 text-blue-600 px-3 py-1.5 rounded-xl text-sm font-medium",children:t.name},a))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"text-xs text-slate-400 mb-2 block font-medium",children:"è¯¦ç»†è®°å½•"}),e.jsx("textarea",{value:B.detailRecord,onChange:t=>se(N(v({},B),{detailRecord:t.target.value})),className:"w-full bg-slate-50 rounded-2xl p-4 text-sm text-slate-700 leading-relaxed border border-slate-200 focus:border-blue-400 focus:ring-2 focus:ring-blue-100 outline-none resize-none",rows:5})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>ne(!1),className:"flex-1 px-4 py-2.5 bg-slate-100 text-slate-600 rounded-xl font-semibold hover:bg-slate-200 transition-colors",children:"å–æ¶ˆ"}),e.jsxs("button",{onClick:Dt,className:"flex-1 btn-particle btn-particle-emerald py-2.5 rounded-xl",children:[e.jsxs("div",{className:"points_wrapper",children:[e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"})]}),e.jsx("span",{className:"inner",children:"ç¡®è®¤ä¿å­˜"})]})]})]})}),me&&e.jsxs("div",{className:`fixed top-4 left-4 right-4 z-50 p-4 rounded-2xl shadow-lg flex items-center gap-3 animate-slide-up ${me.type==="success"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white":"bg-rose-500 text-white"}`,children:[me.type==="success"?e.jsx(Xt,{size:24}):e.jsx(Qt,{size:24}),e.jsx("span",{className:"flex-1",children:me.message}),e.jsx("button",{onClick:()=>Te(null),className:"p-1 hover:bg-white/20 rounded-full",children:e.jsx(Oe,{size:18})})]}),e.jsx("style",{children:`
        @keyframes slide-up {
          from {
            transform: translateY(100%);
          }
          to {
            transform: translateY(0);
          }
        }
        .animate-slide-up {
          animation: slide-up 0.3s ease-out;
        }
      `})]})}const Ta=Object.freeze(Object.defineProperty({__proto__:null,default:ka},Symbol.toStringTag,{value:"Module"}));export{Yt as B,Xt as C,ea as F,Me as G,Be as M,Fe as P,Ta as R,na as S,oa as T,ia as U,Oe as X,ra as Z,Qt as a,Kt as b,z as c,sa as d,Zt as e,aa as f,Sa as g,Ca as p};
