const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AIIntakeModal-BWVONmKi-1772065668356.js","assets/index-HaFXGmlc-1772065668356.js","assets/index-cLdmNrHn-1772065668356.css","assets/check-CqC10Nry-1772065668356.js","assets/trash-2-C_-j1fqc-1772065668356.js","assets/BatchReportModal-C9x52Db9-1772065668356.js","assets/printer-Bapg6yKv-1772065668356.js","assets/TemplatesModal-CpDTEvCE-1772065668356.js","assets/QuickEntryModal-DvBbWQ-J-1772065668356.js","assets/DepartmentModal-Dk-BRM-3-1772065668356.js","assets/HomePage-CMOSn7WX-1772065668356.js","assets/pen-line-dlLx5zS--1772065668356.js","assets/PatientsPage-D2z70WT2-1772065668356.js","assets/chevron-left-Qp1GPvbW-1772065668356.js","assets/PatientDetailPage-Bv306lDw-1772065668356.js","assets/ProfilePage-hqPvfQCg-1772065668356.js"])))=>i.map(i=>d[i]);
var qt=Object.defineProperty,Ut=Object.defineProperties;var Gt=Object.getOwnPropertyDescriptors;var ye=Object.getOwnPropertySymbols;var Ke=Object.prototype.hasOwnProperty,et=Object.prototype.propertyIsEnumerable;var Xe=(s,m,o)=>m in s?qt(s,m,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[m]=o,y=(s,m)=>{for(var o in m||(m={}))Ke.call(m,o)&&Xe(s,o,m[o]);if(ye)for(var o of ye(m))et.call(m,o)&&Xe(s,o,m[o]);return s},k=(s,m)=>Ut(s,Gt(m));var Ae=(s,m)=>{var o={};for(var l in s)Ke.call(s,l)&&m.indexOf(l)<0&&(o[l]=s[l]);if(s!=null&&ye)for(var l of ye(s))m.indexOf(l)<0&&et.call(s,l)&&(o[l]=s[l]);return o};var D=(s,m,o)=>new Promise((l,v)=>{var N=f=>{try{w(o.next(f))}catch(b){v(b)}},c=f=>{try{w(o.throw(f))}catch(b){v(b)}},w=f=>f.done?l(f.value):Promise.resolve(f.value).then(N,c);w((o=o.apply(s,m)).next())});import{c as R,_ as H,g as Wt,R as ve,j as e,r as i,a as F,L as Vt}from"./index-HaFXGmlc-1772065668356.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=R("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=R("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=R("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=R("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=R("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=R("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=R("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=R("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=R("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=R("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=R("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=R("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=R("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=R("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),te=s=>s==null?"":typeof s=="string"?s:typeof s=="object"?s.name?s.name:s.title?s.title:s.text?s.text:"":String(s),Ee=s=>!s||!Array.isArray(s)?[]:s.map(m=>te(m)).filter(Boolean),Sa=s=>D(null,null,function*(){try{const m=(yield H(()=>D(null,null,function*(){const{default:b}=yield import("./html2canvas.esm-C4tBoHcR-1772065668356.js");return{default:b}}),[])).default,o=document.querySelector('[class*="overflow-y-auto"][class*="hide-scrollbar"]')||document.querySelector(".main-glass-container")||document.querySelector("main")||document.body;if(!o){alert("æ— æ³•æ‰¾åˆ°è¦æˆªå›¾çš„åŒºåŸŸ");return}const l=document.createElement("div");l.style.cssText="position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(0,0,0,0.8);color:white;padding:20px 40px;border-radius:12px;z-index:9999;font-size:16px;",l.textContent="æ­£åœ¨ç”Ÿæˆå›¾ç‰‡...",document.body.appendChild(l);const v=o.style.width,N=o.style.maxWidth,c=o.style.minWidth,w=o.style.overflow;o.style.width="768px",o.style.maxWidth="768px",o.style.minWidth="768px",o.style.overflow="visible",yield new Promise(b=>setTimeout(b,500));const f=yield m(o,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff",width:768});o.style.width=v,o.style.maxWidth=N,o.style.minWidth=c,o.style.overflow=w,f.toBlob(b=>{const A=URL.createObjectURL(b),I=document.createElement("a"),M=new Date().toLocaleDateString("zh-CN").replace(/\//g,"-");I.download=`æ²»ç–—è®°å½•-${s.name}-${M}.png`,I.href=A,document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(A),document.body.removeChild(l);const E=document.createElement("div");E.style.cssText="position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(16,185,129,0.9);color:white;padding:20px 40px;border-radius:12px;z-index:9999;font-size:16px;",E.textContent="âœ“ å›¾ç‰‡å·²ä¿å­˜",document.body.appendChild(E),setTimeout(()=>document.body.removeChild(E),2e3)})}catch(m){console.error("ç”Ÿæˆå›¾ç‰‡å¤±è´¥:",m),alert("ç”Ÿæˆå›¾ç‰‡å¤±è´¥ï¼Œè¯·é‡è¯•")}}),Ca=s=>{var M,E,ie;const m=window.open("","_blank"),o=new Date().toLocaleDateString("zh-CN"),l=new Date().toLocaleString("zh-CN"),v=s.treatmentLogs||[],N=((M=s.treatmentPlan)==null?void 0:M.items)||[],c=((E=s.treatmentPlan)==null?void 0:E.precautions)||[],w=s.rehabProblems||"";let f="";w&&(f='<div class="section"><div class="section-title">å½“ä¸‹å­˜åœ¨çš„åº·å¤é—®é¢˜</div><div class="section-content">'+te(w)+"</div></div>");let b="";if(N.length>0){let W=N.map((U,Q)=>{const we=te(U.name||U),ae=U.duration?"ï¼ˆ"+U.duration+"ï¼‰":"";return'<div class="treatment-item-row">'+(Q+1)+". "+we+ae+"</div>"}).join(""),O="";c.length>0&&(O='<div style="margin-top: 10px;"><strong>æ³¨æ„äº‹é¡¹ï¼š</strong>'+Ee(c).join("ï¼›")+"</div>"),b='<div class="section"><div class="section-title">æ²»ç–—è®¡åˆ’</div><div class="section-content">'+((ie=s.treatmentPlan)!=null&&ie.focus?"<div><strong>æ²»ç–—é‡ç‚¹ï¼š</strong>"+s.treatmentPlan.focus+"</div>":"")+'<div style="margin-top: 8px;">'+W+"</div>"+O+"</div></div>"}let A="";v.length>0&&(A='<div class="section"><div class="section-title">æ²»ç–—è®°å½•</div><table class="record-table"><thead><tr><th style="width: 90px;">æ—¥æœŸ</th><th>æ²»ç–—é¡¹ç›®</th><th style="width: 200px;">æ²»ç–—å†…å®¹/å¤‡æ³¨</th><th style="width: 70px;">æ²»ç–—å¸ˆ</th></tr></thead><tbody>'+v.map(O=>{const Z=Ee(O.items).join("ã€"),U=O.highlight?"ã€é‡ç‚¹ã€‘"+te(O.highlight)+" ":"",Q=te(O.notes);return'<tr><td style="text-align: center;">'+(O.date||"")+"</td><td>"+Z+"</td><td>"+U+Q+'</td><td style="text-align: center;">'+(O.therapist||"")+"</td></tr>"}).join("")+"</tbody></table></div>");const I=`
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="UTF-8">
      <title>æ²»ç–—è®°å½• - ${s.name}</title>
      <style>
        @page { size: A4; margin: 15mm 20mm; }
        @media print { body { margin: 0; } .no-print { display: none !important; } }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: "SimSun", "å®‹ä½“", serif; font-size: 10.5pt; line-height: 1.8; color: #000; background: #fff; }
        .page { width: 210mm; min-height: 297mm; padding: 15mm 20mm; margin: 0 auto; background: #fff; }
        .hospital-header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 10px; margin-bottom: 15px; }
        .hospital-name { font-size: 18pt; font-weight: bold; letter-spacing: 4px; }
        .document-title { font-size: 14pt; font-weight: bold; margin-top: 8px; letter-spacing: 2px; }
        .info-table { width: 100%; border-collapse: collapse; margin-bottom: 15px; }
        .info-table td { border: 1px solid #000; padding: 6px 10px; font-size: 10.5pt; }
        .info-table .label { background: #f5f5f5; font-weight: bold; width: 80px; text-align: center; }
        .section { margin-bottom: 15px; }
        .section-title { font-weight: bold; font-size: 11pt; border-bottom: 1px solid #000; padding-bottom: 3px; margin-bottom: 8px; }
        .section-content { padding-left: 10px; }
        .record-table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        .record-table th, .record-table td { border: 1px solid #000; padding: 6px 8px; text-align: left; font-size: 10pt; }
        .record-table th { background: #f5f5f5; font-weight: bold; text-align: center; }
        .signature-area { margin-top: 30px; display: flex; justify-content: space-between; }
        .signature-item { display: flex; align-items: center; gap: 10px; }
        .signature-line { border-bottom: 1px solid #000; width: 100px; display: inline-block; }
        .footer { margin-top: 20px; padding-top: 10px; border-top: 1px solid #ccc; font-size: 9pt; color: #666; text-align: center; }
        .print-button { position: fixed; top: 20px; right: 20px; padding: 12px 30px; background: #1a5f2a; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14pt; }
        .alert-badge { display: inline-block; background: #dc2626; color: #fff; padding: 2px 8px; font-size: 9pt; margin-right: 5px; }
        .treatment-item-row { margin: 5px 0; padding: 5px 0; border-bottom: 1px dashed #ccc; }
        .treatment-item-row:last-child { border-bottom: none; }
      </style>
    </head>
    <body>
      <button class="print-button no-print" onclick="window.print()">æ‰“ å°</button>
      <div class="page">
        <div class="hospital-header">
          <div class="hospital-name">å—äº¬å¸‚å„¿ç«¥åŒ»é™¢</div>
          <div class="document-title">åº·å¤ç§‘æ²»ç–—è®°å½•</div>
        </div>
        <table class="info-table">
          <tr>
            <td class="label">å§“å</td><td>${s.name||""}</td>
            <td class="label">æ€§åˆ«</td><td>${s.gender||""}</td>
            <td class="label">å¹´é¾„</td><td>${s.age||""}</td>
          </tr>
          <tr>
            <td class="label">åºŠå·</td><td>${s.bedNo||""}</td>
            <td class="label">ç§‘å®¤</td><td>${s.department||""}</td>
            <td class="label">å…¥é™¢æ—¥æœŸ</td><td>${s.admissionDate||""}</td>
          </tr>
          <tr>
            <td class="label">è¯Šæ–­</td><td colspan="5">${s.diagnosis||""}</td>
          </tr>
        </table>
        ${f}
        ${b}
        ${A}
        <div class="signature-area">
          <div class="signature-item"><span>ä¸»æ²»åŒ»å¸ˆï¼š</span><span class="signature-line"></span></div>
          <div class="signature-item"><span>æ²»ç–—å¸ˆï¼š</span><span class="signature-line"></span></div>
          <div class="signature-item"><span>æ—¥æœŸï¼š</span><span>${o}</span></div>
        </div>
        <div class="footer">æ‰“å°æ—¶é—´ï¼š${l} | å—äº¬å¸‚å„¿ç«¥åŒ»é™¢åº·å¤ç§‘</div>
      </div>
    </body>
    </html>
  `;m.document.write(I),m.document.close()},ia=s=>{const m=window.open("","_blank"),o=new Date().toLocaleDateString("zh-CN"),l=new Date().toLocaleString("zh-CN"),v=s.map((c,w)=>{var I,M,E;const f=Ee((I=c.generatedRecord)==null?void 0:I.items).join("ã€"),b=te((M=c.generatedRecord)==null?void 0:M.notes),A=((E=c.generatedRecord)==null?void 0:E.therapist)||"å´å¤§å‹‡";return'<tr><td style="text-align: center;">'+(w+1)+'</td><td style="text-align: center;">'+(c.name||"")+'</td><td style="text-align: center;">'+(c.bedNo||"")+"</td><td>"+(c.diagnosis||"")+"</td><td>"+f+"</td><td>"+b+'</td><td style="text-align: center;">'+A+"</td></tr>"}).join(""),N=`
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="UTF-8">
      <title>æ²»ç–—æ—¥æŠ¥ - ${o}</title>
      <style>
        @page { size: A4; margin: 15mm 20mm; }
        @media print { body { margin: 0; } .no-print { display: none !important; } }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: "SimSun", "å®‹ä½“", serif; font-size: 10.5pt; line-height: 1.8; color: #000; background: #fff; }
        .page { width: 210mm; padding: 15mm 20mm; margin: 0 auto; background: #fff; }
        .hospital-header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 10px; margin-bottom: 15px; }
        .hospital-name { font-size: 18pt; font-weight: bold; letter-spacing: 4px; }
        .document-title { font-size: 14pt; font-weight: bold; margin-top: 8px; letter-spacing: 2px; }
        .date-line { text-align: right; margin-bottom: 15px; font-size: 10.5pt; }
        .record-table { width: 100%; border-collapse: collapse; }
        .record-table th, .record-table td { border: 1px solid #000; padding: 8px; text-align: left; font-size: 10pt; vertical-align: top; }
        .record-table th { background: #f5f5f5; font-weight: bold; text-align: center; }
        .signature-area { margin-top: 30px; display: flex; justify-content: space-between; }
        .signature-item { display: flex; align-items: center; gap: 10px; }
        .signature-line { border-bottom: 1px solid #000; width: 100px; display: inline-block; }
        .footer { margin-top: 20px; padding-top: 10px; border-top: 1px solid #ccc; font-size: 9pt; color: #666; text-align: center; }
        .print-button { position: fixed; top: 20px; right: 20px; padding: 12px 30px; background: #1a5f2a; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14pt; }
      </style>
    </head>
    <body>
      <button class="print-button no-print" onclick="window.print()">æ‰“ å°</button>
      <div class="page">
        <div class="hospital-header">
          <div class="hospital-name">å—äº¬å¸‚å„¿ç«¥åŒ»é™¢</div>
          <div class="document-title">åº·å¤ç§‘æ²»ç–—æ—¥æŠ¥</div>
        </div>
        <div class="date-line">æ—¥æœŸï¼š${o}</div>
        <table class="record-table">
          <thead><tr>
            <th style="width: 50px;">åºå·</th>
            <th style="width: 70px;">å§“å</th>
            <th style="width: 50px;">åºŠå·</th>
            <th>è¯Šæ–­</th>
            <th>æ²»ç–—é¡¹ç›®</th>
            <th style="width: 150px;">å¤‡æ³¨</th>
            <th style="width: 60px;">æ²»ç–—å¸ˆ</th>
          </tr></thead>
          <tbody>${v}</tbody>
        </table>
        <div class="signature-area">
          <div class="signature-item"><span>ç§‘å®¤è´Ÿè´£äººï¼š</span><span class="signature-line"></span></div>
          <div class="signature-item"><span>è®°å½•äººï¼š</span><span class="signature-line"></span></div>
        </div>
        <div class="footer">æ‰“å°æ—¶é—´ï¼š${l} | å…± ${s.length} åæ‚£è€… | å—äº¬å¸‚å„¿ç«¥åŒ»é™¢åº·å¤ç§‘</div>
      </div>
    </body>
    </html>
  `;m.document.write(N),m.document.close()};var Ie={exports:{}},Re,tt;function la(){if(tt)return Re;tt=1;var s="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Re=s,Re}var $e,at;function ca(){if(at)return $e;at=1;var s=la();function m(){}function o(){}return o.resetWarningCache=m,$e=function(){function l(c,w,f,b,A,I){if(I!==s){var M=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw M.name="Invariant Violation",M}}l.isRequired=l;function v(){return l}var N={array:l,bigint:l,bool:l,func:l,number:l,object:l,string:l,symbol:l,any:l,arrayOf:v,element:l,elementType:l,instanceOf:v,node:l,objectOf:v,oneOf:v,oneOfType:v,shape:v,exact:v,checkPropTypes:o,resetWarningCache:m};return N.PropTypes=N,N},$e}var nt;function da(){return nt||(nt=1,Ie.exports=ca()()),Ie.exports}var ma=da();const z=Wt(ma),Le=ve.memo(N=>{var c=N,{children:s,className:m="",onClick:o,style:l}=c,v=Ae(c,["children","className","onClick","style"]);return e.jsx("div",k(y({className:`bg-white/60 backdrop-blur-xl rounded-2xl p-4 border border-white/50 shadow-sm ${m}`,onClick:o,style:l},v),{children:s}))});Le.displayName="GlassCard";Le.propTypes={children:z.node.isRequired,className:z.string,onClick:z.func,style:z.object};Le.defaultProps={className:"",onClick:void 0,style:void 0};const Be=ve.memo(({isOpen:s,onClose:m,title:o,icon:l,children:v,className:N="",centered:c=!1,showCloseButton:w=!0})=>{if(!s)return null;const f=b=>{b.target===b.currentTarget&&m()};return e.jsx("div",{className:`fixed inset-0 bg-black/40 z-50 flex ${c?"items-center justify-center p-4":"items-end justify-center"}`,onClick:f,children:e.jsxs("div",{className:`bg-gradient-to-b from-white/95 to-slate-50/95 backdrop-blur-2xl ${c?"rounded-2xl max-w-md w-full":"rounded-t-[32px] w-full"} max-h-[90vh] overflow-y-auto animate-slide-up border-t border-white/80 shadow-2xl`,onClick:b=>b.stopPropagation(),children:[(o||w)&&e.jsxs("div",{className:"sticky top-0 bg-white/90 backdrop-blur-xl border-b border-slate-100 px-4 py-3 flex items-center justify-between z-10",children:[o&&e.jsxs("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[l,o]}),w&&e.jsx("button",{onClick:m,className:"p-2 hover:bg-slate-100 rounded-full transition-colors","aria-label":"Close",children:e.jsx(Me,{size:20,className:"text-slate-500"})})]}),e.jsx("div",{className:`p-4 ${N}`,children:v})]})})});Be.displayName="ModalBase";Be.propTypes={isOpen:z.bool.isRequired,onClose:z.func.isRequired,title:z.string,icon:z.node,children:z.node.isRequired,className:z.string,centered:z.bool,showCloseButton:z.bool};Be.defaultProps={title:void 0,icon:void 0,className:"",centered:!1,showCloseButton:!0};const Fe=ve.memo(w=>{var f=w,{children:s,onClick:m,className:o="",variant:l="default",disabled:v=!1,type:N="button"}=f,c=Ae(f,["children","onClick","className","variant","disabled","type"]);const b=l!=="default"?`btn-particle-${l}`:"";return e.jsxs("button",k(y({type:N,onClick:m,disabled:v,className:`btn-particle ${b} ${o}`},c),{children:[e.jsxs("div",{className:"points_wrapper",children:[e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"})]}),e.jsx("span",{className:"inner",children:s})]}))});Fe.displayName="ParticleButton";Fe.propTypes={children:z.node.isRequired,onClick:z.func,className:z.string,variant:z.oneOf(["default","cyan","emerald","red"]),disabled:z.bool,type:z.string};Fe.defaultProps={onClick:void 0,className:"",variant:"default",disabled:!1,type:"button"};const pa=i.lazy(()=>H(()=>import("./AIIntakeModal-BWVONmKi-1772065668356.js"),__vite__mapDeps([0,1,2,3,4]))),ua=i.lazy(()=>H(()=>import("./BatchReportModal-C9x52Db9-1772065668356.js"),__vite__mapDeps([5,1,2,3,6]))),ha=i.lazy(()=>H(()=>import("./TemplatesModal-CpDTEvCE-1772065668356.js"),__vite__mapDeps([7,1,2]))),ga=i.lazy(()=>H(()=>import("./QuickEntryModal-DvBbWQ-J-1772065668356.js"),__vite__mapDeps([8,1,2]))),xa=i.lazy(()=>H(()=>import("./DepartmentModal-Dk-BRM-3-1772065668356.js"),__vite__mapDeps([9,1,2]))),fa=i.lazy(()=>H(()=>import("./HomePage-CMOSn7WX-1772065668356.js"),__vite__mapDeps([10,1,2,3,4,11]))),ba=i.lazy(()=>H(()=>import("./PatientsPage-D2z70WT2-1772065668356.js"),__vite__mapDeps([12,1,2,13]))),ya=i.lazy(()=>H(()=>import("./PatientDetailPage-Bv306lDw-1772065668356.js"),__vite__mapDeps([14,1,2,13,3,4,6,11]))),va=i.lazy(()=>H(()=>import("./ProfilePage-hqPvfQCg-1772065668356.js"),__vite__mapDeps([15,1,2,11]))),Oe=[{id:1,name:"å‘¼å¸å†…ç§‘",icon:"/images/departments/å‘¼å¸å†…ç§‘.png",color:"bg-blue-100 text-blue-600",patients:0,pending:0},{id:2,name:"æ¶ˆåŒ–å†…ç§‘",icon:"/images/departments/æ¶ˆåŒ–å†…ç§‘.png",color:"bg-green-100 text-green-600",patients:0,pending:0},{id:3,name:"ç¥ç»å†…ç§‘",icon:"/images/departments/ç¥ç»å†…ç§‘.png",color:"bg-purple-100 text-purple-600",patients:0,pending:0},{id:4,name:"å¿ƒè¡€ç®¡å†…ç§‘",icon:"/images/departments/å¿ƒè¡€ç®¡å†…ç§‘.png",color:"bg-red-100 text-red-600",patients:0,pending:0},{id:5,name:"åº·å¤ç§‘",icon:"/images/departments/åº·å¤ç§‘.png",color:"bg-cyan-100 text-cyan-600",patients:0,pending:0},{id:6,name:"å„¿ä¿ç§‘",icon:"/images/departments/å„¿ä¿ç§‘.png",color:"bg-pink-100 text-pink-600",patients:0,pending:0},{id:7,name:"å¤–ç§‘",icon:"/images/departments/å¤–ç§‘.png",color:"bg-rose-100 text-rose-600",patients:0,pending:0},{id:8,name:"éª¨ç§‘",icon:"/images/departments/éª¨ç§‘.png",color:"bg-amber-100 text-amber-600",patients:0,pending:0},{id:9,name:"å£è…”ç§‘",icon:"/images/departments/å£è…”ç§‘.png",color:"bg-yellow-100 text-yellow-600",patients:0,pending:0},{id:10,name:"çœ¼ç§‘",icon:"/images/departments/çœ¼ç§‘.png",color:"bg-sky-100 text-sky-600",patients:0,pending:0},{id:11,name:"è€³é¼»å–‰ç§‘",icon:"/images/departments/è€³é¼»å–‰ç§‘.png",color:"bg-violet-100 text-violet-600",patients:0,pending:0},{id:12,name:"çš®è‚¤ç§‘",icon:"/images/departments/çš®è‚¤ç§‘.png",color:"bg-orange-100 text-orange-600",patients:0,pending:0}],wa=Oe.slice(0,2),st={å‘¼å¸:{icon:"ğŸ«",color:"bg-blue-100 text-blue-600"},æ–°ç”Ÿå„¿:{icon:"ğŸ‘¶",color:"bg-pink-100 text-pink-600"},ç¥ç»:{icon:"ğŸ§ ",color:"bg-purple-100 text-purple-600"},éª¨ç§‘:{icon:"ğŸ¦´",color:"bg-amber-100 text-amber-600"},å¿ƒè„:{icon:"â¤ï¸",color:"bg-red-100 text-red-600"},æ¶ˆåŒ–:{icon:"ğŸ½ï¸",color:"bg-green-100 text-green-600"},è‚¾è„:{icon:"ğŸ’§",color:"bg-cyan-100 text-cyan-600"},å†…åˆ†æ³Œ:{icon:"âš—ï¸",color:"bg-indigo-100 text-indigo-600"},è¡€æ¶²:{icon:"ğŸ©¸",color:"bg-rose-100 text-rose-600"},è‚¿ç˜¤:{icon:"ğŸ—ï¸",color:"bg-violet-100 text-violet-600"},æ„ŸæŸ“:{icon:"ğŸ¦ ",color:"bg-lime-100 text-lime-600"},é‡ç—‡:{icon:"ğŸ¥",color:"bg-slate-100 text-slate-600"},åº·å¤:{icon:"ğŸƒ",color:"bg-emerald-100 text-emerald-600"},å„¿ç«¥:{icon:"ğŸ‘§",color:"bg-orange-100 text-orange-600"},default:{icon:"ğŸ¥",color:"bg-gray-100 text-gray-600"}},ot=[{id:1,category:"å‘¼å¸åº·å¤",icon:"ğŸ«",color:"bg-blue-50 border-blue-200",items:[{name:"è…¹å¼å‘¼å¸è®­ç»ƒ",duration:"10-15min",icon:"ğŸ«"},{name:"ç¼©å”‡å‘¼å¸è®­ç»ƒ",duration:"10min",icon:"ğŸ’¨"},{name:"èƒ¸å»“æ¾åŠ¨æœ¯",duration:"15min",icon:"ğŸ™†"},{name:"ä½“ä½å¼•æµ",duration:"20min",icon:"ğŸ›ï¸"},{name:"æœ‰æ•ˆå’³å—½è®­ç»ƒ",duration:"10min",icon:"ğŸ˜¤"},{name:"å‘¼å¸è‚Œè®­ç»ƒ",duration:"15min",icon:"ğŸ’ª"}]},{id:2,category:"ç¥ç»åº·å¤",icon:"ğŸ§ ",color:"bg-purple-50 border-purple-200",items:[{name:"BobathæŠ€æœ¯",duration:"25-30min",icon:"ğŸ¤¸"},{name:"PNFæŠ€æœ¯",duration:"20min",icon:"ğŸ”„"},{name:"å¹³è¡¡è®­ç»ƒ",duration:"15-20min",icon:"âš–ï¸"},{name:"æ­¥æ€è®­ç»ƒ",duration:"20-30min",icon:"ğŸš¶"},{name:"ç²¾ç»†è¿åŠ¨è®­ç»ƒ",duration:"20min",icon:"âœ‹"},{name:"è®¤çŸ¥è®­ç»ƒ",duration:"15-20min",icon:"ğŸ§©"},{name:"æ„Ÿç»Ÿè®­ç»ƒ",duration:"25min",icon:"ğŸ¯"},{name:"è¨€è¯­è®­ç»ƒ",duration:"20min",icon:"ğŸ—£ï¸"}]},{id:3,category:"éª¨ç§‘åº·å¤",icon:"ğŸ¦´",color:"bg-orange-50 border-orange-200",items:[{name:"å…³èŠ‚æ¾åŠ¨æœ¯",duration:"15-20min",icon:"ğŸ”„"},{name:"è‚ŒåŠ›è®­ç»ƒ",duration:"20min",icon:"ğŸ’ª"},{name:"ç‰µä¼¸è®­ç»ƒ",duration:"15min",icon:"ğŸ§˜"},{name:"ç‰©ç†å› å­æ²»ç–—",duration:"20min",icon:"âš¡"},{name:"æ­¥æ€è®­ç»ƒ",duration:"20min",icon:"ğŸš¶"},{name:"å¹³è¡¡è®­ç»ƒ",duration:"15min",icon:"âš–ï¸"}]},{id:4,category:"å„¿ç«¥ç‰¹è‰²",icon:"ğŸ®",color:"bg-pink-50 border-pink-200",items:[{name:"æ¸¸æˆåŒ–è®­ç»ƒ",duration:"20-30min",icon:"ğŸ®"},{name:"éŸ³ä¹æ²»ç–—",duration:"20min",icon:"ğŸµ"},{name:"æ°´ä¸­è¿åŠ¨",duration:"30min",icon:"ğŸŠ"},{name:"äº²å­äº’åŠ¨è®­ç»ƒ",duration:"25min",icon:"ğŸ‘¨â€ğŸ‘©â€ğŸ‘§"},{name:"æ²™ç›˜æ¸¸æˆ",duration:"20min",icon:"ğŸ–ï¸"}]}];function ja(){const m=(()=>{const t=new URLSearchParams(window.location.search);return{deptId:t.get("dept")?parseInt(t.get("dept")):null,readonly:t.get("readonly")==="true"}})(),[o,l]=i.useState(()=>m.deptId?"patients":"home"),[v,N]=i.useState(()=>{if(m.deptId){const t=Oe.find(a=>a.id===m.deptId);if(t)return t;try{return JSON.parse(localStorage.getItem("rehab_departments")||"[]").find(n=>n.id===m.deptId)||null}catch(a){return null}}return null}),[c,w]=i.useState(null),[f,b]=i.useState([]),[A,I]=i.useState(m.readonly?"doctor":"therapist"),[M,E]=i.useState(m.deptId),[ie,W]=i.useState(!1),[O,Z]=i.useState(!1),[U,Q]=i.useState(!1),[we,ae]=i.useState(!1),[je,X]=i.useState(!1),[rt,K]=i.useState("today"),[it,ke]=i.useState(!1),[lt,le]=i.useState(!1),[Ne,ne]=i.useState(!1),[se,ee]=i.useState(null),[ct,ce]=i.useState(!1),[B,de]=i.useState(null),[me,Pe]=i.useState(null),[G,Se]=i.useState(()=>{try{const t=localStorage.getItem("rehab_departments");if(t){const a=JSON.parse(t);if(Array.isArray(a)&&a.length>0)return a}}catch(t){}return wa});i.useEffect(()=>{localStorage.setItem("rehab_departments",JSON.stringify(G))},[G]);const[dt,mt]=i.useState(!1),[pt,He]=i.useState(!1),[ut,ht]=i.useState({name:"",icon:""}),[gt,V]=i.useState(0),[h,$]=i.useState(null),[xt,oe]=i.useState(null),[ft,pe]=i.useState(0),[bt,ue]=i.useState(""),[yt,he]=i.useState(!1),[vt,qe]=i.useState(!1);i.useRef(null);const[Ce,ge]=i.useState([]),[wt,re]=i.useState(0),C=i.useCallback((t,a="success")=>{Pe({message:t,type:a}),setTimeout(()=>Pe(null),3e3)},[]),[jt,Ue]=i.useState(0);i.useEffect(()=>{let t=!1;function a(){return D(this,null,function*(){try{const n=yield F("/api/patients");if(t)return;const d=Array.isArray(n==null?void 0:n.items)?n.items:[];b(d)}catch(n){console.error("åŠ è½½æ‚£è€…æ•°æ®å¤±è´¥:",n)}})}return a(),()=>{t=!0}},[jt]);const Ge=i.useCallback((t,a)=>!t||!a?t!==a:t.id!==a.id||t.name!==a.name||t.updatedAt!==a.updatedAt,[]);i.useEffect(()=>{if(c){const t=f.find(a=>a.id===c.id);t&&Ge(t,c)&&w(t)}},[f,c,Ge]);const J=(t,a=null)=>{l(t),ne(!1),ee(null),$(null),V(0),oe(null),pe(0),ue(""),ge([]),re(0),t==="home"&&(N(null),w(null),K("today")),t==="patients"&&(w(null),K("today"),a&&N(a)),t==="patientDetail"&&a&&(w(a),K("today")),X(!1)},We=()=>{ne(!1),ee(null),$(null),V(0),oe(null),pe(0),ue(""),ge([]),re(0),o==="patientDetail"?(l(v?"patients":"home"),w(null),K("today")):o==="patients"&&(M||(l("home"),N(null)))},Ve=t=>f.filter(a=>a.departmentId===t),kt=i.useCallback((t,a)=>D(null,null,function*(){if(A!=="therapist")return;const n=f.find(r=>r.id===t);if(!n)return;const d=n.treatmentPlan.items.map(r=>r.id===a?k(y({},r),{completed:!r.completed}):r),x=k(y({},n),{treatmentPlan:k(y({},n.treatmentPlan),{items:d})});b(r=>r.map(j=>j.id===t?x:j)),(c==null?void 0:c.id)===t&&w(x);try{yield F(`/api/patients/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({patient:x})})}catch(r){console.error("ä¿å­˜æ²»ç–—é¡¹ç›®çŠ¶æ€å¤±è´¥:",r)}}),[A,f,c==null?void 0:c.id]),xe=(t,a)=>D(null,null,function*(){const n=f.find(x=>x.id===t);if(!n)return;const d=y(y({},n),a);b(x=>x.map(r=>r.id===t?d:r)),(c==null?void 0:c.id)===t&&w(d);try{const x=yield F(`/api/patients/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({patient:d})});x!=null&&x.success||console.error("ä¿å­˜åˆ°æ•°æ®åº“å¤±è´¥:",x==null?void 0:x.error)}catch(x){console.error("ä¿å­˜åˆ°æ•°æ®åº“å¤±è´¥:",x)}}),Nt=t=>D(null,null,function*(){try{const a=yield F(`/api/patients/${t}`,{method:"DELETE"});b(n=>n.filter(d=>d.id!==t)),Ue(n=>n+1),w(null),le(!1),J("home"),C("æ‚£è€…å·²åˆ é™¤","success")}catch(a){C(a.message||"åˆ é™¤å¤±è´¥","error")}});function Pt(t){return D(this,null,function*(){const a=new FormData;for(const d of t)a.append("files",d);const n=yield F("/api/cases",{method:"POST",body:a});if(!(n!=null&&n.success))throw new Error((n==null?void 0:n.error)||"åˆ›å»ºç—…ä¾‹å¤±è´¥");return n.caseId})}function St(t){return D(this,null,function*(){const a=yield F(`/api/cases/${t}/extract`,{method:"POST",headers:{"Content-Type":"application/json"},body:"{}"});if(!(a!=null&&a.success))throw new Error((a==null?void 0:a.error)||"æŠ½å–å¤±è´¥");return{runId:a.runId,profile:a.profile}})}function Je(t,a){return D(this,null,function*(){const n=yield F(`/api/cases/${t}/plan`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({profile:a})});if(!(n!=null&&n.success))throw new Error((n==null?void 0:n.error)||"ç”Ÿæˆæ–¹æ¡ˆå¤±è´¥");return{runId:n.runId,plan:n.plan}})}function Ct(t){return D(this,null,function*(){const a=yield F(`/api/cases/${t}/analyze`,{method:"POST",headers:{"Content-Type":"application/json"},body:"{}"});if(!(a!=null&&a.success))throw new Error((a==null?void 0:a.error)||"åˆ†æå¤±è´¥");return{profile:a.profile,plan:a.plan}})}const Tt=t=>D(null,null,function*(){const a=Array.from(t.target.files||[]).filter(Boolean);if(t.target.value="",a.length){const n=a[0],d=new FileReader;d.onloadend=()=>D(null,null,function*(){var x,r,j,P,L,Y;oe(d.result),V(1),he(!0);try{const _=yield Pt(a);let p=null,u=null;try{const S=yield Ct(_);p=S.profile,u=S.plan}catch(S){console.warn("ä¸€æ¬¡æ€§åˆ†æå¤±è´¥ï¼Œå°è¯•åˆ†æ­¥å¤„ç†:",S);try{p=(yield St(_)).profile;try{u=(yield Je(_,p)).plan}catch(T){console.warn("ç”Ÿæˆæ–¹æ¡ˆè¶…æ—¶ï¼Œå…è®¸æ‰‹åŠ¨å¡«å†™:",T),C("AIç”Ÿæˆæ–¹æ¡ˆè¶…æ—¶ï¼Œè¯·æ‰‹åŠ¨å¡«å†™æ²»ç–—æ–¹æ¡ˆ","warning")}}catch(g){throw new Error("è¯†åˆ«æ‚£è€…ä¿¡æ¯å¤±è´¥: "+g.message)}}const Te=["ç”·","å¥³","æœªçŸ¥"].includes((x=p==null?void 0:p.patient)==null?void 0:x.gender)?p.patient.gender:"æœªçŸ¥",be=Array.isArray(u==null?void 0:u.gasGoals)?u.gasGoals:[],_e=()=>{var g,T,q;if(p!=null&&p.rehabProblems)return p.rehabProblems;const S=[];return(g=p==null?void 0:p.keyFindings)!=null&&g.length&&S.push(...p.keyFindings.slice(0,2)),(T=u==null?void 0:u.highlights)!=null&&T.length&&S.push(...u.highlights.slice(0,2)),(q=p==null?void 0:p.monitoring)!=null&&q.length&&S.push(`éœ€ç›‘æµ‹ï¼š${p.monitoring.slice(0,2).join("ã€")}`),S.length>0?S.join("ï¼›"):""};$({_caseId:_,name:((r=p==null?void 0:p.patient)==null?void 0:r.name)||"",age:((j=p==null?void 0:p.patient)==null?void 0:j.age)||"",gender:Te||"æœªçŸ¥",diagnosis:((P=p==null?void 0:p.patient)==null?void 0:P.diagnosis)||"",department:((L=p==null?void 0:p.patient)==null?void 0:L.department)||"å‘¼å¸å†…ç§‘",bedNo:((Y=p==null?void 0:p.patient)==null?void 0:Y.bedNo)||"",medicalRecordImage:d.result,rehabProblems:_e(),gasGoals:be.length?be.slice(0,2).map(S=>({name:S.name||"",target:Number(S.target||100),current:Number(S.current||0)})):[{name:"åŠŸèƒ½ç›®æ ‡1",target:100,current:0},{name:"åŠŸèƒ½ç›®æ ‡2",target:100,current:0}],treatmentPlan:{focus:(u==null?void 0:u.focus)||"",highlights:[],items:Array.isArray(u==null?void 0:u.items)?u.items.map((S,g)=>({id:Date.now()+g,name:S.name||"",icon:"ğŸ¯",duration:S.duration||"",completed:!1,note:S.notes||""})):[],precautions:Array.isArray(u==null?void 0:u.precautions)?u.precautions:[]},safetyAlerts:Array.isArray(p==null?void 0:p.risks)?p.risks:[]}),V(2)}catch(_){console.error("AIè¯†åˆ«å¤±è´¥:",_),C("AIè¯†åˆ«å¤±è´¥: "+_.message,"error"),$({_caseId:null,name:"",age:"",gender:"æœªçŸ¥",diagnosis:"",department:"å‘¼å¸å†…ç§‘",bedNo:"",medicalRecordImage:d.result,rehabProblems:"",gasGoals:[{name:"åŠŸèƒ½ç›®æ ‡1",target:100,current:0},{name:"åŠŸèƒ½ç›®æ ‡2",target:100,current:0}],treatmentPlan:{focus:"",highlights:[],items:[],precautions:[]},safetyAlerts:[]}),V(2)}finally{he(!1)}}),d.readAsDataURL(n)}}),_t=()=>D(null,null,function*(){if(!(h!=null&&h._caseId)){C("ç¼ºå°‘ç—…ä¾‹IDï¼Œè¯·é‡æ–°ä¸Šä¼ ","error");return}he(!0);try{const t={patient:{name:h.name,gender:h.gender,age:h.age,bedNo:h.bedNo,department:h.department,diagnosis:h.diagnosis,admissionDate:null},risks:h.safetyAlerts||[]},{plan:a}=yield Je(h._caseId,t);$(n=>k(y({},n),{treatmentPlan:{focus:a.focus||n.treatmentPlan.focus,highlights:[],items:Array.isArray(a.items)?a.items.map((d,x)=>({id:Date.now()+x,name:d.name||"",icon:"ğŸ¯",duration:d.duration||"",completed:!1,note:d.notes||""})):n.treatmentPlan.items,precautions:Array.isArray(a.precautions)?a.precautions:n.treatmentPlan.precautions}})),setTimeout(()=>Ye(),300)}catch(t){C(t.message||"ç”Ÿæˆæ–¹æ¡ˆå¤±è´¥","error")}finally{he(!1)}}),zt=(t,a)=>{$(n=>k(y({},n),{[t]:a}))},Dt=i.useCallback(t=>{var S;if(!t)return;const a=new Date,n=a.toISOString().split("T")[0],d=a.getHours(),x=g=>{if(!g)return"5åˆ†é’Ÿ";const T=g.match(/(\d+)(\D+)/);if(!T)return g;const q=parseInt(T[1]),ze=T[2];if(Math.random()>.5){const De=Math.random()>.5?1:-1;return`${Math.max(1,q+De)}${ze}`}return g},r=t.treatmentPlan.items.filter(g=>g.completed).map(g=>({name:g.name,duration:x(g.duration||"5åˆ†é’Ÿ")}));let j=r.length>0?r:t.treatmentPlan.items.map(g=>({name:g.name,duration:x(g.duration||"5åˆ†é’Ÿ")}));Math.random()>.7&&j.length>1&&(j=[...j].sort(()=>Math.random()-.5));const P=g=>g[Math.floor(Math.random()*g.length)],L=d<12?["ä¸Šåˆç²¾ç¥çŠ¶æ€è¾ƒå¥½","æ™¨é—´è®­ç»ƒ","ä¸Šåˆæ—¶æ®µ"]:d<18?["ä¸‹åˆé…åˆè‰¯å¥½","åˆåè®­ç»ƒ","ä¸‹åˆæ—¶æ®µ"]:["å‚æ™šè®­ç»ƒ","æ™šé—´æ—¶æ®µ","å‚æ™šé…åˆ"],Y=["ä¼˜ç§€","ä¼˜ç§€","è‰¯å¥½","è‰¯å¥½","è‰¯å¥½","ä¸€èˆ¬"],_=["ä¼˜ç§€","ä¼˜ç§€","è‰¯å¥½","è‰¯å¥½","è‰¯å¥½","ä¸€èˆ¬"],p=t.logTemplates||[];let u;if(p.length>0){const g=Math.floor(Math.random()*p.length);if(u=y({},p[g]),Math.random()>.7&&(u.cooperation=P(Y)),Math.random()>.7&&(u.tolerance=P(_)),Math.random()>.5){const T=P(L);u.notes=`${T}ã€‚${u.notes}`}if(Math.random()>.6){const T=["å®¶å±åœ¨æ—é™ªä¼´ï¼Œæ‚£å„¿æƒ…ç»ªç¨³å®šã€‚","è®­ç»ƒè¿‡ç¨‹ä¸­æ‚£å„¿ä¸»åŠ¨æ€§è¾ƒå¥½ã€‚","è¾ƒå‰æ¬¡è®­ç»ƒæœ‰æ‰€è¿›æ­¥ã€‚","æ‚£å„¿å¯¹è®­ç»ƒé¡¹ç›®é€æ¸ç†Ÿæ‚‰ã€‚","è®­ç»ƒåæ‚£å„¿è¡¨ç°è½»æ¾ã€‚"];u.notes+=P(T)}}else{const g=P(Y),T=P(_),q=P(L),ze=[`${q}ï¼Œæ‚£å„¿${g==="ä¼˜ç§€"?"ä¸»åŠ¨":""}é…åˆè®­ç»ƒï¼Œå®Œæˆè®¡åˆ’é¡¹ç›®`,`æ‚£å„¿ä»Šæ—¥${g==="ä¼˜ç§€"?"ç§¯æ":""}å‚ä¸è®­ç»ƒï¼Œ${T==="ä¼˜ç§€"?"è€å—æ€§å¥½":"å®ŒæˆåŸºç¡€é¡¹ç›®"}`,`${q}è®­ç»ƒï¼Œæ‚£å„¿çŠ¶æ€${g==="ä¼˜ç§€"?"è‰¯å¥½":"å¹³ç¨³"}ï¼ŒæŒ‰è®¡åˆ’æ‰§è¡Œ`],De=[`æ‚£å„¿ä»Šæ—¥ç²¾ç¥${g==="ä¼˜ç§€"?"é¥±æ»¡":"å°šå¯"}ï¼Œæƒ…ç»ª${T==="ä¼˜ç§€"?"ç¨³å®š":"å¹³ç¨³"}ã€‚è®­ç»ƒæ—¶${g==="ä¼˜ç§€"?"ä¸»åŠ¨é…åˆ":"åŸºæœ¬é…åˆ"}ï¼Œå®Œæˆè®¡åˆ’é¡¹ç›®ã€‚è®­ç»ƒå${T==="ä¼˜ç§€"?"æ— æ˜æ˜¾ç–²åŠ³":"ç•¥æ„Ÿç–²åŠ³"}ï¼Œæœªè§ä¸é€‚ä¸»è¯‰ã€‚`,`${q}ï¼Œæ‚£å„¿é…åˆåº¦${g}ã€‚è®­ç»ƒè¿‡ç¨‹é¡ºåˆ©ï¼Œ${T==="ä¼˜ç§€"?"è€å—æ€§è‰¯å¥½":"è€å—æ€§å°šå¯"}ã€‚å®Œæˆæ—¢å®šè®­ç»ƒé¡¹ç›®ï¼Œç”Ÿå‘½ä½“å¾å¹³ç¨³ã€‚`,`æ‚£å„¿ä»Šæ—¥çŠ¶æ€${g==="ä¼˜ç§€"?"è‰¯å¥½":"å¹³ç¨³"}ï¼Œ${q}è¿›è¡Œè®­ç»ƒã€‚${g==="ä¼˜ç§€"?"ä¸»åŠ¨å‚ä¸":"åœ¨é¼“åŠ±ä¸‹å‚ä¸"}å„é¡¹è®­ç»ƒï¼Œ${T==="ä¼˜ç§€"?"è¡¨ç°ç§¯æ":"å®ŒæˆåŸºç¡€é¡¹ç›®"}ã€‚`];u={highlight:P(ze),cooperation:g,tolerance:T,notes:P(De),safety:((S=t.treatmentPlan.precautions)==null?void 0:S[0])||"ç»§ç»­è§‚å¯Ÿæ‚£å„¿ååº”ï¼Œå¦‚æœ‰ä¸é€‚åŠæ—¶è°ƒæ•´"}}const Te=j.map(g=>`â€¢ ${g.name}ï¼ˆ${g.duration}ï¼‰`).join(`
`),be=`ã€è®­ç»ƒé‡ç‚¹ã€‘
${u.highlight}

ã€å®Œæˆé¡¹ç›®ã€‘
${Te}

ã€é…åˆæƒ…å†µã€‘
é…åˆåº¦ï¼š${u.cooperation} | è€å—æ€§ï¼š${u.tolerance}

ã€è§‚å¯Ÿè®°å½•ã€‘
${u.notes}

ã€å®‰å…¨æé†’ã€‘
${u.safety}`,_e={date:n,highlight:u.highlight,items:j,cooperation:u.cooperation,tolerance:u.tolerance,notes:u.notes,safety:u.safety,detailRecord:be,therapist:"å´å¤§å‹‡"};de(_e),ce(!0)},[]),At=i.useCallback(()=>D(null,null,function*(){if(!B||!c)return;const t=[B,...c.treatmentLogs||[]],a=k(y({},c),{treatmentLogs:t,todayTreated:!0});w(a),b(n=>n.map(d=>d.id===c.id?a:d));try{yield F(`/api/patients/${c.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({patient:a})})}catch(n){console.error("ä¿å­˜æ—¥å¿—åˆ°æ•°æ®åº“å¤±è´¥:",n)}ce(!1),de(null),K("logs"),C("ä»Šæ—¥æ²»ç–—æ—¥å¿—å·²ä¿å­˜","success")}),[B,c,C]),It=i.useCallback(()=>{Ne?(ee(null),ne(!1)):(ee(JSON.parse(JSON.stringify(c))),ne(!0))},[Ne,c]),Rt=i.useCallback(()=>D(null,null,function*(){se&&(yield xe(se.id,se),ne(!1),ee(null),C("ä¿å­˜æˆåŠŸ","success"))}),[se,xe,C]),$t=()=>{$(t=>k(y({},t),{treatmentPlan:k(y({},t.treatmentPlan),{items:[...t.treatmentPlan.items,{id:Date.now(),name:"",icon:"ğŸ’Š",duration:"",completed:!1,note:""}]})}))},Mt=(t,a,n)=>{$(d=>k(y({},d),{treatmentPlan:k(y({},d.treatmentPlan),{items:d.treatmentPlan.items.map((x,r)=>r===t?k(y({},x),{[a]:n}):x)})}))},Et=t=>{$(a=>k(y({},a),{treatmentPlan:k(y({},a.treatmentPlan),{items:a.treatmentPlan.items.filter((n,d)=>d!==t)})}))},Ot=t=>{t&&!h.safetyAlerts.includes(t)&&$(a=>k(y({},a),{safetyAlerts:[...a.safetyAlerts,t]}))},Lt=t=>{$(a=>k(y({},a),{safetyAlerts:a.safetyAlerts.filter((n,d)=>d!==t)}))},Bt=()=>h.name.trim()?h.age.trim()?h.diagnosis.trim()?h.bedNo.trim()?!0:(C("è¯·è¾“å…¥åºŠå·","error"),!1):(C("è¯·è¾“å…¥è¯Šæ–­ä¿¡æ¯","error"),!1):(C("è¯·è¾“å…¥æ‚£å„¿å¹´é¾„","error"),!1):(C("è¯·è¾“å…¥æ‚£å„¿å§“å","error"),!1),Ye=()=>{if(!Bt())return;const t=r=>{const j=G.find(_=>_.name===r);if(j)return j.id;const P=Math.max(...G.map(_=>_.id),0)+1;let L=st.default;for(const[_,p]of Object.entries(st))if(_!=="default"&&r.includes(_)){L=p;break}const Y={id:P,name:r,icon:L.icon,color:L.color,patients:0,pending:0};return Se(_=>[..._,Y]),C(`å·²è‡ªåŠ¨åˆ›å»ºæ–°ç§‘å®¤ï¼š${r}`,"success"),P},a=r=>{if(r.includes("å¤©")||r.includes("æœˆ"))return"ğŸ‘¶";if(r.includes("å²")){const j=parseInt(r);if(j<=3)return"ğŸ‘¶";if(j<=6)return Math.random()>.5?"ğŸ‘¦":"ğŸ‘§"}return h.gender==="ç”·"?"ğŸ‘¦":"ğŸ‘§"},n=h.gasGoals.length>0?Math.round(h.gasGoals.reduce((r,j)=>{const P=Number(j.target)||1,L=Number(j.current)||0;return r+L/P*100},0)/h.gasGoals.length):0,d={name:h.name.trim(),age:h.age.trim(),gender:h.gender,bedNo:h.bedNo.trim(),departmentId:t(h.department),department:h.department,avatar:a(h.age),diagnosis:h.diagnosis.trim(),admissionDate:new Date().toISOString().split("T")[0],status:"active",todayTreated:!1,medicalRecordImage:h.medicalRecordImage,rehabProblems:h.rehabProblems||"",safetyAlerts:h.safetyAlerts,gasScore:n,gasGoals:h.gasGoals.filter(r=>r.name.trim()),treatmentPlan:{focus:h.treatmentPlan.focus||"åº·å¤è®­ç»ƒ",highlights:h.treatmentPlan.highlights.filter(r=>r.trim()),items:h.treatmentPlan.items.filter(r=>r.name.trim()),precautions:h.treatmentPlan.precautions.filter(r=>r.trim())},treatmentLogs:[],homework:[]};qe(!0),D(null,null,function*(){try{const r=yield F("/api/patients",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({patient:d,plan:d.treatmentPlan,caseId:h._caseId||null})});if(!(r!=null&&r.success))throw new Error((r==null?void 0:r.error)||"ä¿å­˜å¤±è´¥");const j=r.patient||k(y({},d),{id:r.patientId});b(P=>[...P,j]),Ue(P=>P+1),W(!1),V(0),$(null),oe(null),ue(""),pe(0),J("patientDetail",j),C("å»ºæ¡£æˆåŠŸ","success")}catch(r){console.error("å»ºæ¡£å¤±è´¥:",r),C(r.message||"ä¿å­˜å¤±è´¥ï¼Œè¯·é‡è¯•","error")}finally{qe(!1)}})},Ze=()=>{const t=f.filter(a=>a.status==="active"&&!a.todayTreated);ge(t.map(a=>k(y({},a),{generatedRecord:{items:a.treatmentPlan.items.map(n=>n.name),highlight:`å¸¸è§„${a.treatmentPlan.focus}è®­ç»ƒ`,notes:"æ‚£å„¿é…åˆè‰¯å¥½ï¼Œè®­ç»ƒé¡ºåˆ©å®Œæˆ",confirmed:!1}}))),re(0),Q(!0)},Ft=(t,a)=>{ge(x=>x.map((r,j)=>j===t?k(y({},r),{generatedRecord:k(y({},a),{confirmed:!0})}):r));const n=Ce[t],d={date:"2026-01-11",items:a.items,highlight:a.highlight,notes:a.notes,therapist:"å´å¤§å‹‡"};xe(n.id,{todayTreated:!0,treatmentLogs:[d,...n.treatmentLogs]}),t<Ce.length-1&&re(t+1)},Ht=()=>e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 z-50",children:[e.jsx("div",{className:"absolute inset-0 bottom-nav"}),e.jsxs("div",{className:"relative px-6 py-2 flex items-center justify-between safe-area-bottom",children:[e.jsx(Qe,{icon:e.jsx(ea,{size:22}),label:"é¦–é¡µ",active:["home","patients","patientDetail"].includes(o),onClick:()=>J("home")}),A==="therapist"&&e.jsxs("div",{className:"relative -mt-8",children:[e.jsx("button",{onClick:()=>X(!je),className:`w-14 h-14 rounded-full flex items-center justify-center transition-all shadow-lg active:scale-90 ${je?"bg-slate-600 rotate-45":"bg-gradient-to-br from-pink-400 to-rose-500 shadow-pink-300/50"}`,children:e.jsx(ta,{size:28,className:"text-white"})}),je&&e.jsxs("div",{className:"absolute bottom-20 left-1/2 -translate-x-1/2 bg-white/95 backdrop-blur-xl rounded-2xl p-2 min-w-[200px] shadow-xl border border-slate-100 animate-scale-in",children:[e.jsx(fe,{icon:e.jsx(aa,{size:20}),label:"AIæ™ºèƒ½æ”¶æ²»",color:"text-blue-500",onClick:()=>{W(!0),X(!1)}}),e.jsx(fe,{icon:e.jsx(ra,{size:20}),label:"æ‰¹é‡ç”Ÿæˆæ—¥æŠ¥",color:"text-amber-500",onClick:()=>{Ze(),X(!1)}}),e.jsx(fe,{icon:e.jsx(Jt,{size:20}),label:"æ²»ç–—æ¨¡æ¿åº“",color:"text-emerald-500",onClick:()=>{ae(!0),X(!1)}}),e.jsx(fe,{icon:e.jsx(Xt,{size:20}),label:"å¿«é€Ÿå½•å…¥",color:"text-rose-500",onClick:()=>{Z(!0),X(!1)}})]})]}),A==="doctor"&&e.jsx("div",{className:"w-14"}),e.jsx(Qe,{icon:e.jsx(oa,{size:22}),label:"æˆ‘çš„",active:o==="profile",onClick:()=>J("profile")})]})]}),Qe=ve.memo(({icon:t,label:a,active:n,onClick:d,badge:x})=>e.jsxs("button",{onClick:d,className:`flex flex-col items-center gap-0.5 px-4 py-1.5 rounded-xl transition-all duration-200 ${n?"text-blue-500":"text-slate-400 hover:text-slate-600"}`,children:[e.jsxs("div",{className:"relative",children:[t,x>0&&e.jsx("span",{className:"absolute -top-1 -right-2 bg-rose-500 text-white text-[10px] w-4 h-4 rounded-full flex items-center justify-center font-bold",children:x})]}),e.jsx("span",{className:`text-[10px] font-medium ${n?"text-blue-500":""}`,children:a})]})),fe=({icon:t,label:a,color:n,onClick:d})=>e.jsxs("button",{onClick:d,className:"flex items-center gap-3 w-full px-4 py-3 hover:bg-slate-50 rounded-xl transition-all duration-200 active:scale-98",children:[e.jsx("span",{className:n,children:t}),e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:a})]});return e.jsxs("div",{className:"max-w-md mx-auto min-h-screen relative gradient-bg-soft",children:[e.jsxs(i.Suspense,{fallback:e.jsx(Vt,{}),children:[o==="home"&&e.jsx(fa,{userRole:A,patients:f,departments:G,getDepartmentPatients:Ve,navigateTo:J,setShowAIModal:W,initBatchGenerate:Ze,isEditingDepartments:dt,setIsEditingDepartments:mt,setDepartments:Se,showToast:C,setShowAddDepartment:He}),o==="patients"&&e.jsx(ba,{selectedDepartment:v,getDepartmentPatients:Ve,goBack:We,navigateTo:J}),o==="patientDetail"&&e.jsx(ya,{selectedPatient:c,userRole:A,detailTab:rt,setDetailTab:K,isEditingDetail:Ne,editedPatient:se,setEditedPatient:ee,goBack:We,savePatientEdit:Rt,toggleEditMode:It,setShowDeleteConfirm:le,toggleTreatmentItem:kt,generateTodayLog:Dt,setShowQuickEntry:Z,updatePatient:xe}),o==="profile"&&e.jsx(va,{userRole:A,setUserRole:I,setShowTemplates:ae})]}),e.jsx(Ht,{}),e.jsxs(i.Suspense,{fallback:null,children:[e.jsx(pa,{isOpen:ie,onClose:()=>W(!1),aiStep:gt,setAiStep:V,aiResult:h,setAiResult:$,uploadedImage:xt,setUploadedImage:oe,ocrText:bt,setOcrText:ue,ocrProgress:ft,setOcrProgress:pe,handleImageUpload:Tt,updateFormField:zt,addSafetyAlert:Ot,removeSafetyAlert:Lt,addTreatmentItem:$t,updateTreatmentItem:Mt,removeTreatmentItem:Et,handleGeneratePlan:_t,confirmAdmission:Ye,isOcrProcessing:yt,isSavingPatient:vt,departments:G}),e.jsx(ua,{isOpen:U,onClose:()=>Q(!1),batchPatients:Ce,currentBatchIndex:wt,setCurrentBatchIndex:re,confirmBatchItem:Ft,printBatchRecords:ia}),e.jsx(ha,{isOpen:we,onClose:()=>ae(!1),treatmentTemplates:ot}),e.jsx(ga,{isOpen:O,onClose:()=>Z(!1),treatmentTemplates:ot}),e.jsx(xa,{isOpen:pt,onClose:()=>He(!1),newDepartment:ut,setNewDepartment:ht,allDepartments:Oe,onSave:t=>{const a=["bg-blue-100 text-blue-600","bg-green-100 text-green-600","bg-purple-100 text-purple-600","bg-red-100 text-red-600","bg-cyan-100 text-cyan-600","bg-pink-100 text-pink-600","bg-amber-100 text-amber-600","bg-orange-100 text-orange-600"],n=a[Math.floor(Math.random()*a.length)],d={id:Math.max(...G.map(x=>x.id))+1,name:t.name.trim(),icon:t.icon,color:n,patients:0,pending:0};Se([...G,d]),C("ç§‘å®¤æ·»åŠ æˆåŠŸ")},showToast:C})]}),it&&e.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-end justify-center",onClick:()=>ke(!1),children:e.jsxs("div",{className:"bg-gradient-to-b from-white/95 to-slate-50/95 backdrop-blur-2xl rounded-t-[32px] w-full max-h-[85vh] overflow-y-auto border-t border-white/80 shadow-2xl",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"sticky top-0 bg-white/90 backdrop-blur-xl border-b border-slate-100 px-4 py-3 flex items-center justify-between z-10",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-800",children:["å…¨éƒ¨æ‚£è€… (",f.length,")"]}),e.jsx("button",{onClick:()=>ke(!1),className:"p-2 hover:bg-slate-100 rounded-full",children:e.jsx(Me,{size:20,className:"text-slate-500"})})]}),e.jsx("div",{className:"p-4 space-y-2",children:f.filter(t=>t.status==="active").map(t=>e.jsx("button",{onClick:()=>{ke(!1),J("patientDetail",t)},className:"w-full bg-white/60 backdrop-blur-xl rounded-2xl p-3 border border-white/50 shadow-sm hover:bg-white/80 transition-all active:scale-[0.98]",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-100 to-purple-100 rounded-2xl flex items-center justify-center text-xl border-2 border-white shadow-sm",children:t.avatar}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold text-slate-800",children:t.name}),e.jsx("span",{className:"text-xs text-slate-400",children:t.age}),e.jsx("span",{className:"text-xs bg-slate-100 text-slate-600 px-1.5 rounded-lg",children:t.bedNo})]}),e.jsxs("p",{className:"text-xs text-slate-500",children:[t.department," Â· ",t.diagnosis]})]}),e.jsx(Yt,{size:18,className:"text-slate-300"})]})},t.id))})]})}),lt&&c&&e.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center p-4",onClick:()=>le(!1),children:e.jsxs("div",{className:"bg-white/95 backdrop-blur-2xl rounded-3xl p-6 max-w-sm w-full shadow-2xl border border-white/80",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-rose-100 rounded-2xl flex items-center justify-center",children:e.jsx(sa,{size:24,className:"text-rose-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"ç¡®è®¤åˆ é™¤"}),e.jsx("p",{className:"text-sm text-slate-400",children:"æ­¤æ“ä½œæ— æ³•æ’¤é”€"})]})]}),e.jsxs("p",{className:"text-slate-600 mb-6",children:["ç¡®å®šè¦åˆ é™¤æ‚£è€… ",e.jsx("span",{className:"font-bold text-slate-800",children:c.name})," çš„æ‰€æœ‰ä¿¡æ¯å—ï¼Ÿ"]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>le(!1),className:"flex-1 px-4 py-2.5 bg-slate-100 text-slate-600 rounded-xl font-semibold hover:bg-slate-200 transition-colors",children:"å–æ¶ˆ"}),e.jsxs("button",{onClick:()=>Nt(c.id),className:"flex-1 btn-particle btn-particle-rose py-2.5 rounded-xl",children:[e.jsxs("div",{className:"points_wrapper",children:[e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"})]}),e.jsx("span",{className:"inner",children:"ç¡®è®¤åˆ é™¤"})]})]})]})}),ct&&B&&e.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center p-4",onClick:()=>ce(!1),children:e.jsxs("div",{className:"bg-white/95 backdrop-blur-2xl rounded-3xl p-6 max-w-md w-full shadow-2xl max-h-[80vh] overflow-y-auto border border-white/80",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-2xl flex items-center justify-center",children:e.jsx(Kt,{size:24,className:"text-emerald-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"ç¡®è®¤æ²»ç–—æ—¥å¿—"}),e.jsx("p",{className:"text-sm text-slate-400",children:B.date})]})]}),e.jsx("div",{className:"bg-amber-50 border border-amber-100 rounded-2xl p-4 mb-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(na,{size:16,className:"text-amber-500 mt-0.5"}),e.jsx("div",{className:"flex-1",children:e.jsx("textarea",{value:B.highlight,onChange:t=>de(k(y({},B),{highlight:t.target.value})),className:"w-full text-sm font-semibold text-slate-700 leading-relaxed bg-transparent border-none outline-none resize-none",rows:2})})]})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"text-xs text-slate-400 mb-2 block font-medium",children:"å®Œæˆé¡¹ç›®"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:B.items.map((t,a)=>e.jsx("span",{className:"bg-blue-100 text-blue-600 px-3 py-1.5 rounded-xl text-sm font-medium",children:t.name},a))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"text-xs text-slate-400 mb-2 block font-medium",children:"è¯¦ç»†è®°å½•"}),e.jsx("textarea",{value:B.detailRecord,onChange:t=>de(k(y({},B),{detailRecord:t.target.value})),className:"w-full bg-slate-50 rounded-2xl p-4 text-sm text-slate-700 leading-relaxed border border-slate-200 focus:border-blue-400 focus:ring-2 focus:ring-blue-100 outline-none resize-none",rows:5})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>ce(!1),className:"flex-1 px-4 py-2.5 bg-slate-100 text-slate-600 rounded-xl font-semibold hover:bg-slate-200 transition-colors",children:"å–æ¶ˆ"}),e.jsxs("button",{onClick:At,className:"flex-1 btn-particle btn-particle-emerald py-2.5 rounded-xl",children:[e.jsxs("div",{className:"points_wrapper",children:[e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"})]}),e.jsx("span",{className:"inner",children:"ç¡®è®¤ä¿å­˜"})]})]})]})}),me&&e.jsxs("div",{className:`fixed top-4 left-4 right-4 z-50 p-4 rounded-2xl shadow-lg flex items-center gap-3 animate-slide-up ${me.type==="success"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white":"bg-rose-500 text-white"}`,children:[me.type==="success"?e.jsx(Qt,{size:24}):e.jsx(Zt,{size:24}),e.jsx("span",{className:"flex-1",children:me.message}),e.jsx("button",{onClick:()=>Pe(null),className:"p-1 hover:bg-white/20 rounded-full",children:e.jsx(Me,{size:18})})]}),e.jsx("style",{children:`
        @keyframes slide-up {
          from {
            transform: translateY(100%);
          }
          to {
            transform: translateY(0);
          }
        }
        .animate-slide-up {
          animation: slide-up 0.3s ease-out;
        }
      `})]})}const Ta=Object.freeze(Object.defineProperty({__proto__:null,default:ja},Symbol.toStringTag,{value:"Module"}));export{Jt as B,Qt as C,Kt as F,Le as G,Be as M,Fe as P,Ta as R,aa as S,sa as T,oa as U,Me as X,ra as Z,Zt as a,Xt as b,z as c,na as d,Yt as e,ta as f,Sa as g,Ca as p};
