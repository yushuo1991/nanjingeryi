import{r as b,j as e}from"./index-CANltA1C-1772070488978.js";import{b as u,X as o,c as t}from"./RehabCareLink-DNlDu4M5-1772070488978.js";const h=({isOpen:d,onClose:n,treatmentTemplates:c})=>{const[l,m]=b.useState([]),r=s=>{m(a=>a.find(i=>i.name===s.name)?a.filter(i=>i.name!==s.name):[...a,s])};return d?e.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-end justify-center",onClick:n,children:e.jsxs("div",{className:"bg-gradient-to-b from-white/95 to-slate-50/95 backdrop-blur-2xl rounded-t-[32px] w-full max-h-[85vh] overflow-y-auto border-t border-white/80 shadow-2xl",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"sticky top-0 bg-white/90 backdrop-blur-xl border-b border-slate-100 px-4 py-3 flex items-center justify-between z-10",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[e.jsx(u,{className:"text-emerald-500",size:20}),"快速录入"]}),e.jsx("button",{onClick:n,className:"p-2 hover:bg-slate-100 rounded-full",children:e.jsx(o,{size:20,className:"text-slate-500"})})]}),e.jsxs("div",{className:"p-4",children:[l.length>0&&e.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-2xl p-3 mb-4",children:[e.jsxs("h5",{className:"text-sm font-semibold text-slate-700 mb-2",children:["已选择 (",l.length,")"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:l.map((s,a)=>e.jsxs("span",{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white text-sm px-3 py-1 rounded-full flex items-center gap-1 font-medium shadow-sm",children:[s.icon," ",s.name,e.jsx(o,{size:14,className:"cursor-pointer hover:text-rose-200",onClick:()=>r(s)})]},a))})]}),c.map(s=>e.jsxs("div",{className:"mb-4",children:[e.jsxs("h5",{className:"text-sm font-semibold text-slate-700 mb-2 flex items-center gap-2",children:[s.icon," ",s.category]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.items.map((a,i)=>{const x=l.find(p=>p.name===a.name);return e.jsxs("button",{onClick:()=>r(a),className:`px-3 py-1.5 rounded-full text-sm transition font-medium ${x?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-sm":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[a.icon," ",a.name]},i)})})]},s.id)),e.jsxs("button",{disabled:l.length===0,className:"w-full btn-particle btn-particle-emerald py-3 rounded-xl disabled:opacity-50 disabled:cursor-not-allowed mt-4",onClick:n,children:[e.jsxs("div",{className:"points_wrapper",children:[e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"})]}),e.jsxs("span",{className:"inner",children:["确认添加 (",l.length," 项)"]})]})]})]})}):null};h.propTypes={isOpen:t.bool.isRequired,onClose:t.func.isRequired,treatmentTemplates:t.arrayOf(t.shape({id:t.oneOfType([t.string,t.number]),category:t.string,icon:t.string,items:t.arrayOf(t.shape({name:t.string,icon:t.string}))})).isRequired};export{h as default};
