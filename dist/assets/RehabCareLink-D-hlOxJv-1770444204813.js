const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AIIntakeModal-D-qHqo9n-1770444204813.js","assets/index-tLO3RpaO-1770444204813.js","assets/index-CJPZpgyD-1770444204813.css","assets/check-BddYGKRJ-1770444204813.js","assets/trash-2-CE-cjzd6-1770444204813.js","assets/BatchReportModal-8faI8Aqp-1770444204813.js","assets/printer-DSi9bQPV-1770444204813.js","assets/TemplatesModal-DYOuCSy5-1770444204813.js","assets/QuickEntryModal-n7MPFFwv-1770444204813.js","assets/DepartmentModal-DRkr5JpW-1770444204813.js","assets/HomePage-CHjYwcfP-1770444204813.js","assets/pen-line-BG9tBs_U-1770444204813.js","assets/PatientsPage-C6qweS9u-1770444204813.js","assets/chevron-left-CDoKucJO-1770444204813.js","assets/PatientDetailPage-DBhGSOq_-1770444204813.js","assets/ProfilePage-C5ORgrBb-1770444204813.js"])))=>i.map(i=>d[i]);
var Ht=Object.defineProperty,qt=Object.defineProperties;var Ut=Object.getOwnPropertyDescriptors;var ue=Object.getOwnPropertySymbols;var Qe=Object.prototype.hasOwnProperty,Xe=Object.prototype.propertyIsEnumerable;var Ze=(n,m,o)=>m in n?Ht(n,m,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[m]=o,y=(n,m)=>{for(var o in m||(m={}))Qe.call(m,o)&&Ze(n,o,m[o]);if(ue)for(var o of ue(m))Xe.call(m,o)&&Ze(n,o,m[o]);return n},k=(n,m)=>qt(n,Ut(m));var _e=(n,m)=>{var o={};for(var l in n)Qe.call(n,l)&&m.indexOf(l)<0&&(o[l]=n[l]);if(n!=null&&ue)for(var l of ue(n))m.indexOf(l)<0&&Xe.call(n,l)&&(o[l]=n[l]);return o};var D=(n,m,o)=>new Promise((l,w)=>{var N=f=>{try{v(o.next(f))}catch(b){w(b)}},c=f=>{try{v(o.throw(f))}catch(b){w(b)}},v=f=>f.done?l(f.value):Promise.resolve(f.value).then(N,c);v((o=o.apply(n,m)).next())});import{c as I,_ as H,g as Gt,R as he,j as e,r,a as F,L as Wt}from"./index-tLO3RpaO-1770444204813.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=I("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=I("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=I("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=I("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=I("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=I("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=I("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=I("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=I("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=I("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=I("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=I("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=I("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=I("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),K=n=>n==null?"":typeof n=="string"?n:typeof n=="object"?n.name?n.name:n.title?n.title:n.text?n.text:"":String(n),Ie=n=>!n||!Array.isArray(n)?[]:n.map(m=>K(m)).filter(Boolean),Na=n=>D(null,null,function*(){try{const m=(yield H(()=>D(null,null,function*(){const{default:b}=yield import("./html2canvas.esm-C4tBoHcR-1770444204813.js");return{default:b}}),[])).default,o=document.querySelector('[class*="overflow-y-auto"][class*="hide-scrollbar"]')||document.querySelector(".main-glass-container")||document.querySelector("main")||document.body;if(!o){alert("æ— æ³•æ‰¾åˆ°è¦æˆªå›¾çš„åŒºåŸŸ");return}const l=document.createElement("div");l.style.cssText="position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(0,0,0,0.8);color:white;padding:20px 40px;border-radius:12px;z-index:9999;font-size:16px;",l.textContent="æ­£åœ¨ç”Ÿæˆå›¾ç‰‡...",document.body.appendChild(l);const w=o.style.width,N=o.style.maxWidth,c=o.style.minWidth,v=o.style.overflow;o.style.width="768px",o.style.maxWidth="768px",o.style.minWidth="768px",o.style.overflow="visible",yield new Promise(b=>setTimeout(b,500));const f=yield m(o,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff",width:768});o.style.width=w,o.style.maxWidth=N,o.style.minWidth=c,o.style.overflow=v,f.toBlob(b=>{const A=URL.createObjectURL(b),$=document.createElement("a"),R=new Date().toLocaleDateString("zh-CN").replace(/\//g,"-");$.download=`æ²»ç–—è®°å½•-${n.name}-${R}.png`,$.href=A,document.body.appendChild($),$.click(),document.body.removeChild($),URL.revokeObjectURL(A),document.body.removeChild(l);const M=document.createElement("div");M.style.cssText="position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(16,185,129,0.9);color:white;padding:20px 40px;border-radius:12px;z-index:9999;font-size:16px;",M.textContent="âœ“ å›¾ç‰‡å·²ä¿å­˜",document.body.appendChild(M),setTimeout(()=>document.body.removeChild(M),2e3)})}catch(m){console.error("ç”Ÿæˆå›¾ç‰‡å¤±è´¥:",m),alert("ç”Ÿæˆå›¾ç‰‡å¤±è´¥ï¼Œè¯·é‡è¯•")}}),Pa=n=>{var R,M,ne;const m=window.open("","_blank"),o=new Date().toLocaleDateString("zh-CN"),l=new Date().toLocaleString("zh-CN"),w=n.treatmentLogs||[],N=((R=n.treatmentPlan)==null?void 0:R.items)||[],c=((M=n.treatmentPlan)==null?void 0:M.precautions)||[],v=n.rehabProblems||"";let f="";v&&(f='<div class="section"><div class="section-title">å½“ä¸‹å­˜åœ¨çš„åº·å¤é—®é¢˜</div><div class="section-content">'+K(v)+"</div></div>");let b="";if(N.length>0){let G=N.map((U,Y)=>{const ge=K(U.name||U),ee=U.duration?"ï¼ˆ"+U.duration+"ï¼‰":"";return'<div class="treatment-item-row">'+(Y+1)+". "+ge+ee+"</div>"}).join(""),E="";c.length>0&&(E='<div style="margin-top: 10px;"><strong>æ³¨æ„äº‹é¡¹ï¼š</strong>'+Ie(c).join("ï¼›")+"</div>"),b='<div class="section"><div class="section-title">æ²»ç–—è®¡åˆ’</div><div class="section-content">'+((ne=n.treatmentPlan)!=null&&ne.focus?"<div><strong>æ²»ç–—é‡ç‚¹ï¼š</strong>"+n.treatmentPlan.focus+"</div>":"")+'<div style="margin-top: 8px;">'+G+"</div>"+E+"</div></div>"}let A="";w.length>0&&(A='<div class="section"><div class="section-title">æ²»ç–—è®°å½•</div><table class="record-table"><thead><tr><th style="width: 90px;">æ—¥æœŸ</th><th>æ²»ç–—é¡¹ç›®</th><th style="width: 200px;">æ²»ç–—å†…å®¹/å¤‡æ³¨</th><th style="width: 70px;">æ²»ç–—å¸ˆ</th></tr></thead><tbody>'+w.map(E=>{const J=Ie(E.items).join("ã€"),U=E.highlight?"ã€é‡ç‚¹ã€‘"+K(E.highlight)+" ":"",Y=K(E.notes);return'<tr><td style="text-align: center;">'+(E.date||"")+"</td><td>"+J+"</td><td>"+U+Y+'</td><td style="text-align: center;">'+(E.therapist||"")+"</td></tr>"}).join("")+"</tbody></table></div>");const $=`
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="UTF-8">
      <title>æ²»ç–—è®°å½• - ${n.name}</title>
      <style>
        @page { size: A4; margin: 15mm 20mm; }
        @media print { body { margin: 0; } .no-print { display: none !important; } }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: "SimSun", "å®‹ä½“", serif; font-size: 10.5pt; line-height: 1.8; color: #000; background: #fff; }
        .page { width: 210mm; min-height: 297mm; padding: 15mm 20mm; margin: 0 auto; background: #fff; }
        .hospital-header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 10px; margin-bottom: 15px; }
        .hospital-name { font-size: 18pt; font-weight: bold; letter-spacing: 4px; }
        .document-title { font-size: 14pt; font-weight: bold; margin-top: 8px; letter-spacing: 2px; }
        .info-table { width: 100%; border-collapse: collapse; margin-bottom: 15px; }
        .info-table td { border: 1px solid #000; padding: 6px 10px; font-size: 10.5pt; }
        .info-table .label { background: #f5f5f5; font-weight: bold; width: 80px; text-align: center; }
        .section { margin-bottom: 15px; }
        .section-title { font-weight: bold; font-size: 11pt; border-bottom: 1px solid #000; padding-bottom: 3px; margin-bottom: 8px; }
        .section-content { padding-left: 10px; }
        .record-table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        .record-table th, .record-table td { border: 1px solid #000; padding: 6px 8px; text-align: left; font-size: 10pt; }
        .record-table th { background: #f5f5f5; font-weight: bold; text-align: center; }
        .signature-area { margin-top: 30px; display: flex; justify-content: space-between; }
        .signature-item { display: flex; align-items: center; gap: 10px; }
        .signature-line { border-bottom: 1px solid #000; width: 100px; display: inline-block; }
        .footer { margin-top: 20px; padding-top: 10px; border-top: 1px solid #ccc; font-size: 9pt; color: #666; text-align: center; }
        .print-button { position: fixed; top: 20px; right: 20px; padding: 12px 30px; background: #1a5f2a; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14pt; }
        .alert-badge { display: inline-block; background: #dc2626; color: #fff; padding: 2px 8px; font-size: 9pt; margin-right: 5px; }
        .treatment-item-row { margin: 5px 0; padding: 5px 0; border-bottom: 1px dashed #ccc; }
        .treatment-item-row:last-child { border-bottom: none; }
      </style>
    </head>
    <body>
      <button class="print-button no-print" onclick="window.print()">æ‰“ å°</button>
      <div class="page">
        <div class="hospital-header">
          <div class="hospital-name">å—äº¬å¸‚å„¿ç«¥åŒ»é™¢</div>
          <div class="document-title">åº·å¤ç§‘æ²»ç–—è®°å½•</div>
        </div>
        <table class="info-table">
          <tr>
            <td class="label">å§“å</td><td>${n.name||""}</td>
            <td class="label">æ€§åˆ«</td><td>${n.gender||""}</td>
            <td class="label">å¹´é¾„</td><td>${n.age||""}</td>
          </tr>
          <tr>
            <td class="label">åºŠå·</td><td>${n.bedNo||""}</td>
            <td class="label">ç§‘å®¤</td><td>${n.department||""}</td>
            <td class="label">å…¥é™¢æ—¥æœŸ</td><td>${n.admissionDate||""}</td>
          </tr>
          <tr>
            <td class="label">è¯Šæ–­</td><td colspan="5">${n.diagnosis||""}</td>
          </tr>
        </table>
        ${f}
        ${b}
        ${A}
        <div class="signature-area">
          <div class="signature-item"><span>ä¸»æ²»åŒ»å¸ˆï¼š</span><span class="signature-line"></span></div>
          <div class="signature-item"><span>æ²»ç–—å¸ˆï¼š</span><span class="signature-line"></span></div>
          <div class="signature-item"><span>æ—¥æœŸï¼š</span><span>${o}</span></div>
        </div>
        <div class="footer">æ‰“å°æ—¶é—´ï¼š${l} | å—äº¬å¸‚å„¿ç«¥åŒ»é™¢åº·å¤ç§‘</div>
      </div>
    </body>
    </html>
  `;m.document.write($),m.document.close()},ia=n=>{const m=window.open("","_blank"),o=new Date().toLocaleDateString("zh-CN"),l=new Date().toLocaleString("zh-CN"),w=n.map((c,v)=>{var $,R,M;const f=Ie(($=c.generatedRecord)==null?void 0:$.items).join("ã€"),b=K((R=c.generatedRecord)==null?void 0:R.notes),A=((M=c.generatedRecord)==null?void 0:M.therapist)||"å´å¤§å‹‡";return'<tr><td style="text-align: center;">'+(v+1)+'</td><td style="text-align: center;">'+(c.name||"")+'</td><td style="text-align: center;">'+(c.bedNo||"")+"</td><td>"+(c.diagnosis||"")+"</td><td>"+f+"</td><td>"+b+'</td><td style="text-align: center;">'+A+"</td></tr>"}).join(""),N=`
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="UTF-8">
      <title>æ²»ç–—æ—¥æŠ¥ - ${o}</title>
      <style>
        @page { size: A4; margin: 15mm 20mm; }
        @media print { body { margin: 0; } .no-print { display: none !important; } }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: "SimSun", "å®‹ä½“", serif; font-size: 10.5pt; line-height: 1.8; color: #000; background: #fff; }
        .page { width: 210mm; padding: 15mm 20mm; margin: 0 auto; background: #fff; }
        .hospital-header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 10px; margin-bottom: 15px; }
        .hospital-name { font-size: 18pt; font-weight: bold; letter-spacing: 4px; }
        .document-title { font-size: 14pt; font-weight: bold; margin-top: 8px; letter-spacing: 2px; }
        .date-line { text-align: right; margin-bottom: 15px; font-size: 10.5pt; }
        .record-table { width: 100%; border-collapse: collapse; }
        .record-table th, .record-table td { border: 1px solid #000; padding: 8px; text-align: left; font-size: 10pt; vertical-align: top; }
        .record-table th { background: #f5f5f5; font-weight: bold; text-align: center; }
        .signature-area { margin-top: 30px; display: flex; justify-content: space-between; }
        .signature-item { display: flex; align-items: center; gap: 10px; }
        .signature-line { border-bottom: 1px solid #000; width: 100px; display: inline-block; }
        .footer { margin-top: 20px; padding-top: 10px; border-top: 1px solid #ccc; font-size: 9pt; color: #666; text-align: center; }
        .print-button { position: fixed; top: 20px; right: 20px; padding: 12px 30px; background: #1a5f2a; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14pt; }
      </style>
    </head>
    <body>
      <button class="print-button no-print" onclick="window.print()">æ‰“ å°</button>
      <div class="page">
        <div class="hospital-header">
          <div class="hospital-name">å—äº¬å¸‚å„¿ç«¥åŒ»é™¢</div>
          <div class="document-title">åº·å¤ç§‘æ²»ç–—æ—¥æŠ¥</div>
        </div>
        <div class="date-line">æ—¥æœŸï¼š${o}</div>
        <table class="record-table">
          <thead><tr>
            <th style="width: 50px;">åºå·</th>
            <th style="width: 70px;">å§“å</th>
            <th style="width: 50px;">åºŠå·</th>
            <th>è¯Šæ–­</th>
            <th>æ²»ç–—é¡¹ç›®</th>
            <th style="width: 150px;">å¤‡æ³¨</th>
            <th style="width: 60px;">æ²»ç–—å¸ˆ</th>
          </tr></thead>
          <tbody>${w}</tbody>
        </table>
        <div class="signature-area">
          <div class="signature-item"><span>ç§‘å®¤è´Ÿè´£äººï¼š</span><span class="signature-line"></span></div>
          <div class="signature-item"><span>è®°å½•äººï¼š</span><span class="signature-line"></span></div>
        </div>
        <div class="footer">æ‰“å°æ—¶é—´ï¼š${l} | å…± ${n.length} åæ‚£è€… | å—äº¬å¸‚å„¿ç«¥åŒ»é™¢åº·å¤ç§‘</div>
      </div>
    </body>
    </html>
  `;m.document.write(N),m.document.close()};var ze={exports:{}},De,Ke;function ra(){if(Ke)return De;Ke=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return De=n,De}var Ae,et;function la(){if(et)return Ae;et=1;var n=ra();function m(){}function o(){}return o.resetWarningCache=m,Ae=function(){function l(c,v,f,b,A,$){if($!==n){var R=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw R.name="Invariant Violation",R}}l.isRequired=l;function w(){return l}var N={array:l,bigint:l,bool:l,func:l,number:l,object:l,string:l,symbol:l,any:l,arrayOf:w,element:l,elementType:l,instanceOf:w,node:l,objectOf:w,oneOf:w,oneOfType:w,shape:w,exact:w,checkPropTypes:o,resetWarningCache:m};return N.PropTypes=N,N},Ae}var tt;function ca(){return tt||(tt=1,ze.exports=la()()),ze.exports}var da=ca();const z=Gt(da),Re=he.memo(N=>{var c=N,{children:n,className:m="",onClick:o,style:l}=c,w=_e(c,["children","className","onClick","style"]);return e.jsx("div",k(y({className:`bg-white/60 backdrop-blur-xl rounded-2xl p-4 border border-white/50 shadow-sm ${m}`,onClick:o,style:l},w),{children:n}))});Re.displayName="GlassCard";Re.propTypes={children:z.node.isRequired,className:z.string,onClick:z.func,style:z.object};Re.defaultProps={className:"",onClick:void 0,style:void 0};const Me=he.memo(({isOpen:n,onClose:m,title:o,icon:l,children:w,className:N="",centered:c=!1,showCloseButton:v=!0})=>{if(!n)return null;const f=b=>{b.target===b.currentTarget&&m()};return e.jsx("div",{className:`fixed inset-0 bg-black/40 z-50 flex ${c?"items-center justify-center p-4":"items-end justify-center"}`,onClick:f,children:e.jsxs("div",{className:`bg-gradient-to-b from-white/95 to-slate-50/95 backdrop-blur-2xl ${c?"rounded-2xl max-w-md w-full":"rounded-t-[32px] w-full"} max-h-[90vh] overflow-y-auto animate-slide-up border-t border-white/80 shadow-2xl`,onClick:b=>b.stopPropagation(),children:[(o||v)&&e.jsxs("div",{className:"sticky top-0 bg-white/90 backdrop-blur-xl border-b border-slate-100 px-4 py-3 flex items-center justify-between z-10",children:[o&&e.jsxs("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[l,o]}),v&&e.jsx("button",{onClick:m,className:"p-2 hover:bg-slate-100 rounded-full transition-colors","aria-label":"Close",children:e.jsx($e,{size:20,className:"text-slate-500"})})]}),e.jsx("div",{className:`p-4 ${N}`,children:w})]})})});Me.displayName="ModalBase";Me.propTypes={isOpen:z.bool.isRequired,onClose:z.func.isRequired,title:z.string,icon:z.node,children:z.node.isRequired,className:z.string,centered:z.bool,showCloseButton:z.bool};Me.defaultProps={title:void 0,icon:void 0,className:"",centered:!1,showCloseButton:!0};const Ee=he.memo(v=>{var f=v,{children:n,onClick:m,className:o="",variant:l="default",disabled:w=!1,type:N="button"}=f,c=_e(f,["children","onClick","className","variant","disabled","type"]);const b=l!=="default"?`btn-particle-${l}`:"";return e.jsxs("button",k(y({type:N,onClick:m,disabled:w,className:`btn-particle ${b} ${o}`},c),{children:[e.jsxs("div",{className:"points_wrapper",children:[e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"})]}),e.jsx("span",{className:"inner",children:n})]}))});Ee.displayName="ParticleButton";Ee.propTypes={children:z.node.isRequired,onClick:z.func,className:z.string,variant:z.oneOf(["default","cyan","emerald","red"]),disabled:z.bool,type:z.string};Ee.defaultProps={onClick:void 0,className:"",variant:"default",disabled:!1,type:"button"};const ma=r.lazy(()=>H(()=>import("./AIIntakeModal-D-qHqo9n-1770444204813.js"),__vite__mapDeps([0,1,2,3,4]))),pa=r.lazy(()=>H(()=>import("./BatchReportModal-8faI8Aqp-1770444204813.js"),__vite__mapDeps([5,1,2,3,6]))),ua=r.lazy(()=>H(()=>import("./TemplatesModal-DYOuCSy5-1770444204813.js"),__vite__mapDeps([7,1,2]))),ha=r.lazy(()=>H(()=>import("./QuickEntryModal-n7MPFFwv-1770444204813.js"),__vite__mapDeps([8,1,2]))),ga=r.lazy(()=>H(()=>import("./DepartmentModal-DRkr5JpW-1770444204813.js"),__vite__mapDeps([9,1,2]))),xa=r.lazy(()=>H(()=>import("./HomePage-CHjYwcfP-1770444204813.js"),__vite__mapDeps([10,1,2,3,4,11]))),fa=r.lazy(()=>H(()=>import("./PatientsPage-C6qweS9u-1770444204813.js"),__vite__mapDeps([12,1,2,13]))),ba=r.lazy(()=>H(()=>import("./PatientDetailPage-DBhGSOq_-1770444204813.js"),__vite__mapDeps([14,1,2,13,3,4,6,11]))),ya=r.lazy(()=>H(()=>import("./ProfilePage-C5ORgrBb-1770444204813.js"),__vite__mapDeps([15,1,2,11]))),ot=[{id:1,name:"å‘¼å¸å†…ç§‘",icon:"/images/departments/å‘¼å¸å†…ç§‘.png",color:"bg-blue-100 text-blue-600",patients:0,pending:0},{id:2,name:"æ¶ˆåŒ–å†…ç§‘",icon:"/images/departments/æ¶ˆåŒ–å†…ç§‘.png",color:"bg-green-100 text-green-600",patients:0,pending:0},{id:3,name:"ç¥ç»å†…ç§‘",icon:"/images/departments/ç¥ç»å†…ç§‘.png",color:"bg-purple-100 text-purple-600",patients:0,pending:0},{id:4,name:"å¿ƒè¡€ç®¡å†…ç§‘",icon:"/images/departments/å¿ƒè¡€ç®¡å†…ç§‘.png",color:"bg-red-100 text-red-600",patients:0,pending:0},{id:5,name:"åº·å¤ç§‘",icon:"/images/departments/åº·å¤ç§‘.png",color:"bg-cyan-100 text-cyan-600",patients:0,pending:0},{id:6,name:"å„¿ä¿ç§‘",icon:"/images/departments/å„¿ä¿ç§‘.png",color:"bg-pink-100 text-pink-600",patients:0,pending:0},{id:7,name:"å¤–ç§‘",icon:"/images/departments/å¤–ç§‘.png",color:"bg-rose-100 text-rose-600",patients:0,pending:0},{id:8,name:"éª¨ç§‘",icon:"/images/departments/éª¨ç§‘.png",color:"bg-amber-100 text-amber-600",patients:0,pending:0},{id:9,name:"å£è…”ç§‘",icon:"/images/departments/å£è…”ç§‘.png",color:"bg-yellow-100 text-yellow-600",patients:0,pending:0},{id:10,name:"çœ¼ç§‘",icon:"/images/departments/çœ¼ç§‘.png",color:"bg-sky-100 text-sky-600",patients:0,pending:0},{id:11,name:"è€³é¼»å–‰ç§‘",icon:"/images/departments/è€³é¼»å–‰ç§‘.png",color:"bg-violet-100 text-violet-600",patients:0,pending:0},{id:12,name:"çš®è‚¤ç§‘",icon:"/images/departments/çš®è‚¤ç§‘.png",color:"bg-orange-100 text-orange-600",patients:0,pending:0}],at=ot.slice(0,2),nt={å‘¼å¸:{icon:"ğŸ«",color:"bg-blue-100 text-blue-600"},æ–°ç”Ÿå„¿:{icon:"ğŸ‘¶",color:"bg-pink-100 text-pink-600"},ç¥ç»:{icon:"ğŸ§ ",color:"bg-purple-100 text-purple-600"},éª¨ç§‘:{icon:"ğŸ¦´",color:"bg-amber-100 text-amber-600"},å¿ƒè„:{icon:"â¤ï¸",color:"bg-red-100 text-red-600"},æ¶ˆåŒ–:{icon:"ğŸ½ï¸",color:"bg-green-100 text-green-600"},è‚¾è„:{icon:"ğŸ’§",color:"bg-cyan-100 text-cyan-600"},å†…åˆ†æ³Œ:{icon:"âš—ï¸",color:"bg-indigo-100 text-indigo-600"},è¡€æ¶²:{icon:"ğŸ©¸",color:"bg-rose-100 text-rose-600"},è‚¿ç˜¤:{icon:"ğŸ—ï¸",color:"bg-violet-100 text-violet-600"},æ„ŸæŸ“:{icon:"ğŸ¦ ",color:"bg-lime-100 text-lime-600"},é‡ç—‡:{icon:"ğŸ¥",color:"bg-slate-100 text-slate-600"},åº·å¤:{icon:"ğŸƒ",color:"bg-emerald-100 text-emerald-600"},å„¿ç«¥:{icon:"ğŸ‘§",color:"bg-orange-100 text-orange-600"},default:{icon:"ğŸ¥",color:"bg-gray-100 text-gray-600"}},st=[{id:1,category:"å‘¼å¸åº·å¤",icon:"ğŸ«",color:"bg-blue-50 border-blue-200",items:[{name:"è…¹å¼å‘¼å¸è®­ç»ƒ",duration:"10-15min",icon:"ğŸ«"},{name:"ç¼©å”‡å‘¼å¸è®­ç»ƒ",duration:"10min",icon:"ğŸ’¨"},{name:"èƒ¸å»“æ¾åŠ¨æœ¯",duration:"15min",icon:"ğŸ™†"},{name:"ä½“ä½å¼•æµ",duration:"20min",icon:"ğŸ›ï¸"},{name:"æœ‰æ•ˆå’³å—½è®­ç»ƒ",duration:"10min",icon:"ğŸ˜¤"},{name:"å‘¼å¸è‚Œè®­ç»ƒ",duration:"15min",icon:"ğŸ’ª"}]},{id:2,category:"ç¥ç»åº·å¤",icon:"ğŸ§ ",color:"bg-purple-50 border-purple-200",items:[{name:"BobathæŠ€æœ¯",duration:"25-30min",icon:"ğŸ¤¸"},{name:"PNFæŠ€æœ¯",duration:"20min",icon:"ğŸ”„"},{name:"å¹³è¡¡è®­ç»ƒ",duration:"15-20min",icon:"âš–ï¸"},{name:"æ­¥æ€è®­ç»ƒ",duration:"20-30min",icon:"ğŸš¶"},{name:"ç²¾ç»†è¿åŠ¨è®­ç»ƒ",duration:"20min",icon:"âœ‹"},{name:"è®¤çŸ¥è®­ç»ƒ",duration:"15-20min",icon:"ğŸ§©"},{name:"æ„Ÿç»Ÿè®­ç»ƒ",duration:"25min",icon:"ğŸ¯"},{name:"è¨€è¯­è®­ç»ƒ",duration:"20min",icon:"ğŸ—£ï¸"}]},{id:3,category:"éª¨ç§‘åº·å¤",icon:"ğŸ¦´",color:"bg-orange-50 border-orange-200",items:[{name:"å…³èŠ‚æ¾åŠ¨æœ¯",duration:"15-20min",icon:"ğŸ”„"},{name:"è‚ŒåŠ›è®­ç»ƒ",duration:"20min",icon:"ğŸ’ª"},{name:"ç‰µä¼¸è®­ç»ƒ",duration:"15min",icon:"ğŸ§˜"},{name:"ç‰©ç†å› å­æ²»ç–—",duration:"20min",icon:"âš¡"},{name:"æ­¥æ€è®­ç»ƒ",duration:"20min",icon:"ğŸš¶"},{name:"å¹³è¡¡è®­ç»ƒ",duration:"15min",icon:"âš–ï¸"}]},{id:4,category:"å„¿ç«¥ç‰¹è‰²",icon:"ğŸ®",color:"bg-pink-50 border-pink-200",items:[{name:"æ¸¸æˆåŒ–è®­ç»ƒ",duration:"20-30min",icon:"ğŸ®"},{name:"éŸ³ä¹æ²»ç–—",duration:"20min",icon:"ğŸµ"},{name:"æ°´ä¸­è¿åŠ¨",duration:"30min",icon:"ğŸŠ"},{name:"äº²å­äº’åŠ¨è®­ç»ƒ",duration:"25min",icon:"ğŸ‘¨â€ğŸ‘©â€ğŸ‘§"},{name:"æ²™ç›˜æ¸¸æˆ",duration:"20min",icon:"ğŸ–ï¸"}]}];function wa(){const m=(()=>{const t=new URLSearchParams(window.location.search);return{deptId:t.get("dept")?parseInt(t.get("dept")):null,readonly:t.get("readonly")==="true"}})(),[o,l]=r.useState(()=>m.deptId?"patients":"home"),[w,N]=r.useState(()=>m.deptId&&at.find(t=>t.id===m.deptId)||null),[c,v]=r.useState(null),[f,b]=r.useState([]),[A,$]=r.useState(m.readonly?"doctor":"therapist"),[R,M]=r.useState(m.deptId),[ne,G]=r.useState(!1),[E,J]=r.useState(!1),[U,Y]=r.useState(!1),[ge,ee]=r.useState(!1),[xe,Z]=r.useState(!1),[it,Q]=r.useState("today"),[rt,fe]=r.useState(!1),[lt,se]=r.useState(!1),[be,ye]=r.useState(!1),[te,oe]=r.useState(null),[ct,ie]=r.useState(!1),[B,re]=r.useState(null),[le,we]=r.useState(null),[X,ve]=r.useState(at),[dt,mt]=r.useState(!1),[pt,Oe]=r.useState(!1),[ut,ht]=r.useState({name:"",icon:""}),[gt,ae]=r.useState(0),[h,O]=r.useState(null),[xt,je]=r.useState(null),[ft,Le]=r.useState(0),[bt,Be]=r.useState(""),[yt,ce]=r.useState(!1),[wt,Fe]=r.useState(!1);r.useRef(null);const[ke,He]=r.useState([]),[vt,Ne]=r.useState(0);r.useEffect(()=>{let t=!1;function a(){return D(this,null,function*(){try{const s=yield F("/api/patients");if(t)return;const d=Array.isArray(s==null?void 0:s.items)?s.items:[];d.length&&b(d)}catch(s){console.warn(s)}})}return a(),()=>{t=!0}},[]);const S=r.useCallback((t,a="success")=>{we({message:t,type:a}),setTimeout(()=>we(null),3e3)},[]),qe=r.useCallback((t,a)=>!t||!a?t!==a:t.id!==a.id||t.name!==a.name||t.updatedAt!==a.updatedAt,[]);r.useEffect(()=>{if(c){const t=f.find(a=>a.id===c.id);t&&qe(t,c)&&v(t)}},[f,c,qe]);const W=(t,a=null)=>{l(t),t==="home"&&(N(null),v(null),Q("today")),t==="patients"&&(v(null),Q("today"),a&&N(a)),t==="patientDetail"&&a&&(v(a),Q("today")),Z(!1)},Ue=()=>{o==="patientDetail"?(l(w?"patients":"home"),v(null),Q("today")):o==="patients"&&(R||(l("home"),N(null)))},Ge=t=>f.filter(a=>a.departmentId===t),jt=r.useCallback((t,a)=>D(null,null,function*(){if(A!=="therapist")return;const s=f.find(i=>i.id===t);if(!s)return;const d=s.treatmentPlan.items.map(i=>i.id===a?k(y({},i),{completed:!i.completed}):i),x=k(y({},s),{treatmentPlan:k(y({},s.treatmentPlan),{items:d})});b(i=>i.map(j=>j.id===t?x:j)),(c==null?void 0:c.id)===t&&v(x);try{yield F(`/api/patients/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({patient:x})})}catch(i){console.error("ä¿å­˜æ²»ç–—é¡¹ç›®çŠ¶æ€å¤±è´¥:",i)}}),[A,f,c==null?void 0:c.id]),de=(t,a)=>D(null,null,function*(){const s=f.find(x=>x.id===t);if(!s)return;const d=y(y({},s),a);b(x=>x.map(i=>i.id===t?d:i)),(c==null?void 0:c.id)===t&&v(d);try{const x=yield F(`/api/patients/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({patient:d})});x!=null&&x.success||console.error("ä¿å­˜åˆ°æ•°æ®åº“å¤±è´¥:",x==null?void 0:x.error)}catch(x){console.error("ä¿å­˜åˆ°æ•°æ®åº“å¤±è´¥:",x)}}),kt=t=>D(null,null,function*(){try{const a=yield F(`/api/patients/${t}`,{method:"DELETE"});b(s=>s.filter(d=>d.id!==t)),v(null),se(!1),W("home"),S("æ‚£è€…å·²åˆ é™¤","success")}catch(a){S(a.message||"åˆ é™¤å¤±è´¥","error")}});function Nt(t){return D(this,null,function*(){const a=new FormData;for(const d of t)a.append("files",d);const s=yield F("/api/cases",{method:"POST",body:a});if(!(s!=null&&s.success))throw new Error((s==null?void 0:s.error)||"åˆ›å»ºç—…ä¾‹å¤±è´¥");return s.caseId})}function Pt(t){return D(this,null,function*(){const a=yield F(`/api/cases/${t}/extract`,{method:"POST",headers:{"Content-Type":"application/json"},body:"{}"});if(!(a!=null&&a.success))throw new Error((a==null?void 0:a.error)||"æŠ½å–å¤±è´¥");return{runId:a.runId,profile:a.profile}})}function We(t,a){return D(this,null,function*(){const s=yield F(`/api/cases/${t}/plan`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({profile:a})});if(!(s!=null&&s.success))throw new Error((s==null?void 0:s.error)||"ç”Ÿæˆæ–¹æ¡ˆå¤±è´¥");return{runId:s.runId,plan:s.plan}})}function St(t){return D(this,null,function*(){const a=yield F(`/api/cases/${t}/analyze`,{method:"POST",headers:{"Content-Type":"application/json"},body:"{}"});if(!(a!=null&&a.success))throw new Error((a==null?void 0:a.error)||"åˆ†æå¤±è´¥");return{profile:a.profile,plan:a.plan}})}const Ct=t=>D(null,null,function*(){const a=Array.from(t.target.files||[]).filter(Boolean);if(t.target.value="",a.length){const s=a[0],d=new FileReader;d.onloadend=()=>D(null,null,function*(){var x,i,j,T,L,V;je(d.result),ae(1),ce(!0);try{const _=yield Nt(a);let p=null,u=null;try{const P=yield St(_);p=P.profile,u=P.plan}catch(P){console.warn("ä¸€æ¬¡æ€§åˆ†æå¤±è´¥ï¼Œå°è¯•åˆ†æ­¥å¤„ç†:",P);try{p=(yield Pt(_)).profile;try{u=(yield We(_,p)).plan}catch(C){console.warn("ç”Ÿæˆæ–¹æ¡ˆè¶…æ—¶ï¼Œå…è®¸æ‰‹åŠ¨å¡«å†™:",C),S("AIç”Ÿæˆæ–¹æ¡ˆè¶…æ—¶ï¼Œè¯·æ‰‹åŠ¨å¡«å†™æ²»ç–—æ–¹æ¡ˆ","warning")}}catch(g){throw new Error("è¯†åˆ«æ‚£è€…ä¿¡æ¯å¤±è´¥: "+g.message)}}const Pe=["ç”·","å¥³","æœªçŸ¥"].includes((x=p==null?void 0:p.patient)==null?void 0:x.gender)?p.patient.gender:"æœªçŸ¥",pe=Array.isArray(u==null?void 0:u.gasGoals)?u.gasGoals:[],Se=()=>{var g,C,q;if(p!=null&&p.rehabProblems)return p.rehabProblems;const P=[];return(g=p==null?void 0:p.keyFindings)!=null&&g.length&&P.push(...p.keyFindings.slice(0,2)),(C=u==null?void 0:u.highlights)!=null&&C.length&&P.push(...u.highlights.slice(0,2)),(q=p==null?void 0:p.monitoring)!=null&&q.length&&P.push(`éœ€ç›‘æµ‹ï¼š${p.monitoring.slice(0,2).join("ã€")}`),P.length>0?P.join("ï¼›"):""};O({_caseId:_,name:((i=p==null?void 0:p.patient)==null?void 0:i.name)||"",age:((j=p==null?void 0:p.patient)==null?void 0:j.age)||"",gender:Pe||"æœªçŸ¥",diagnosis:((T=p==null?void 0:p.patient)==null?void 0:T.diagnosis)||"",department:((L=p==null?void 0:p.patient)==null?void 0:L.department)||"å‘¼å¸å†…ç§‘",bedNo:((V=p==null?void 0:p.patient)==null?void 0:V.bedNo)||"",medicalRecordImage:d.result,rehabProblems:Se(),gasGoals:pe.length?pe.slice(0,2).map(P=>({name:P.name||"",target:Number(P.target||100),current:Number(P.current||0)})):[{name:"åŠŸèƒ½ç›®æ ‡1",target:100,current:0},{name:"åŠŸèƒ½ç›®æ ‡2",target:100,current:0}],treatmentPlan:{focus:(u==null?void 0:u.focus)||"",highlights:[],items:Array.isArray(u==null?void 0:u.items)?u.items.map((P,g)=>({id:Date.now()+g,name:P.name||"",icon:"ğŸ¯",duration:P.duration||"",completed:!1,note:P.notes||""})):[],precautions:Array.isArray(u==null?void 0:u.precautions)?u.precautions:[]},safetyAlerts:Array.isArray(p==null?void 0:p.risks)?p.risks:[]}),ae(2)}catch(_){console.error("AIè¯†åˆ«å¤±è´¥:",_),S("AIè¯†åˆ«å¤±è´¥: "+_.message,"error"),O({_caseId:null,name:"",age:"",gender:"æœªçŸ¥",diagnosis:"",department:"å‘¼å¸å†…ç§‘",bedNo:"",medicalRecordImage:d.result,rehabProblems:"",gasGoals:[{name:"åŠŸèƒ½ç›®æ ‡1",target:100,current:0},{name:"åŠŸèƒ½ç›®æ ‡2",target:100,current:0}],treatmentPlan:{focus:"",highlights:[],items:[],precautions:[]},safetyAlerts:[]}),ae(2)}finally{ce(!1)}}),d.readAsDataURL(s)}}),Tt=()=>D(null,null,function*(){if(!(h!=null&&h._caseId)){S("ç¼ºå°‘ç—…ä¾‹IDï¼Œè¯·é‡æ–°ä¸Šä¼ ","error");return}ce(!0);try{const t={patient:{name:h.name,gender:h.gender,age:h.age,bedNo:h.bedNo,department:h.department,diagnosis:h.diagnosis,admissionDate:null},risks:h.safetyAlerts||[]},{plan:a}=yield We(h._caseId,t);O(s=>k(y({},s),{treatmentPlan:{focus:a.focus||s.treatmentPlan.focus,highlights:[],items:Array.isArray(a.items)?a.items.map((d,x)=>({id:Date.now()+x,name:d.name||"",icon:"ğŸ¯",duration:d.duration||"",completed:!1,note:d.notes||""})):s.treatmentPlan.items,precautions:Array.isArray(a.precautions)?a.precautions:s.treatmentPlan.precautions}})),setTimeout(()=>Ve(),300)}catch(t){S(t.message||"ç”Ÿæˆæ–¹æ¡ˆå¤±è´¥","error")}finally{ce(!1)}}),_t=(t,a)=>{O(s=>k(y({},s),{[t]:a}))},zt=r.useCallback(t=>{var P;if(!t)return;const a=new Date,s=a.toISOString().split("T")[0],d=a.getHours(),x=g=>{if(!g)return"5åˆ†é’Ÿ";const C=g.match(/(\d+)(\D+)/);if(!C)return g;const q=parseInt(C[1]),Ce=C[2];if(Math.random()>.5){const Te=Math.random()>.5?1:-1;return`${Math.max(1,q+Te)}${Ce}`}return g},i=t.treatmentPlan.items.filter(g=>g.completed).map(g=>({name:g.name,duration:x(g.duration||"5åˆ†é’Ÿ")}));let j=i.length>0?i:t.treatmentPlan.items.map(g=>({name:g.name,duration:x(g.duration||"5åˆ†é’Ÿ")}));Math.random()>.7&&j.length>1&&(j=[...j].sort(()=>Math.random()-.5));const T=g=>g[Math.floor(Math.random()*g.length)],L=d<12?["ä¸Šåˆç²¾ç¥çŠ¶æ€è¾ƒå¥½","æ™¨é—´è®­ç»ƒ","ä¸Šåˆæ—¶æ®µ"]:d<18?["ä¸‹åˆé…åˆè‰¯å¥½","åˆåè®­ç»ƒ","ä¸‹åˆæ—¶æ®µ"]:["å‚æ™šè®­ç»ƒ","æ™šé—´æ—¶æ®µ","å‚æ™šé…åˆ"],V=["ä¼˜ç§€","ä¼˜ç§€","è‰¯å¥½","è‰¯å¥½","è‰¯å¥½","ä¸€èˆ¬"],_=["ä¼˜ç§€","ä¼˜ç§€","è‰¯å¥½","è‰¯å¥½","è‰¯å¥½","ä¸€èˆ¬"],p=t.logTemplates||[];let u;if(p.length>0){const g=Math.floor(Math.random()*p.length);if(u=y({},p[g]),Math.random()>.7&&(u.cooperation=T(V)),Math.random()>.7&&(u.tolerance=T(_)),Math.random()>.5){const C=T(L);u.notes=`${C}ã€‚${u.notes}`}if(Math.random()>.6){const C=["å®¶å±åœ¨æ—é™ªä¼´ï¼Œæ‚£å„¿æƒ…ç»ªç¨³å®šã€‚","è®­ç»ƒè¿‡ç¨‹ä¸­æ‚£å„¿ä¸»åŠ¨æ€§è¾ƒå¥½ã€‚","è¾ƒå‰æ¬¡è®­ç»ƒæœ‰æ‰€è¿›æ­¥ã€‚","æ‚£å„¿å¯¹è®­ç»ƒé¡¹ç›®é€æ¸ç†Ÿæ‚‰ã€‚","è®­ç»ƒåæ‚£å„¿è¡¨ç°è½»æ¾ã€‚"];u.notes+=T(C)}}else{const g=T(V),C=T(_),q=T(L),Ce=[`${q}ï¼Œæ‚£å„¿${g==="ä¼˜ç§€"?"ä¸»åŠ¨":""}é…åˆè®­ç»ƒï¼Œå®Œæˆè®¡åˆ’é¡¹ç›®`,`æ‚£å„¿ä»Šæ—¥${g==="ä¼˜ç§€"?"ç§¯æ":""}å‚ä¸è®­ç»ƒï¼Œ${C==="ä¼˜ç§€"?"è€å—æ€§å¥½":"å®ŒæˆåŸºç¡€é¡¹ç›®"}`,`${q}è®­ç»ƒï¼Œæ‚£å„¿çŠ¶æ€${g==="ä¼˜ç§€"?"è‰¯å¥½":"å¹³ç¨³"}ï¼ŒæŒ‰è®¡åˆ’æ‰§è¡Œ`],Te=[`æ‚£å„¿ä»Šæ—¥ç²¾ç¥${g==="ä¼˜ç§€"?"é¥±æ»¡":"å°šå¯"}ï¼Œæƒ…ç»ª${C==="ä¼˜ç§€"?"ç¨³å®š":"å¹³ç¨³"}ã€‚è®­ç»ƒæ—¶${g==="ä¼˜ç§€"?"ä¸»åŠ¨é…åˆ":"åŸºæœ¬é…åˆ"}ï¼Œå®Œæˆè®¡åˆ’é¡¹ç›®ã€‚è®­ç»ƒå${C==="ä¼˜ç§€"?"æ— æ˜æ˜¾ç–²åŠ³":"ç•¥æ„Ÿç–²åŠ³"}ï¼Œæœªè§ä¸é€‚ä¸»è¯‰ã€‚`,`${q}ï¼Œæ‚£å„¿é…åˆåº¦${g}ã€‚è®­ç»ƒè¿‡ç¨‹é¡ºåˆ©ï¼Œ${C==="ä¼˜ç§€"?"è€å—æ€§è‰¯å¥½":"è€å—æ€§å°šå¯"}ã€‚å®Œæˆæ—¢å®šè®­ç»ƒé¡¹ç›®ï¼Œç”Ÿå‘½ä½“å¾å¹³ç¨³ã€‚`,`æ‚£å„¿ä»Šæ—¥çŠ¶æ€${g==="ä¼˜ç§€"?"è‰¯å¥½":"å¹³ç¨³"}ï¼Œ${q}è¿›è¡Œè®­ç»ƒã€‚${g==="ä¼˜ç§€"?"ä¸»åŠ¨å‚ä¸":"åœ¨é¼“åŠ±ä¸‹å‚ä¸"}å„é¡¹è®­ç»ƒï¼Œ${C==="ä¼˜ç§€"?"è¡¨ç°ç§¯æ":"å®ŒæˆåŸºç¡€é¡¹ç›®"}ã€‚`];u={highlight:T(Ce),cooperation:g,tolerance:C,notes:T(Te),safety:((P=t.treatmentPlan.precautions)==null?void 0:P[0])||"ç»§ç»­è§‚å¯Ÿæ‚£å„¿ååº”ï¼Œå¦‚æœ‰ä¸é€‚åŠæ—¶è°ƒæ•´"}}const Pe=j.map(g=>`â€¢ ${g.name}ï¼ˆ${g.duration}ï¼‰`).join(`
`),pe=`ã€è®­ç»ƒé‡ç‚¹ã€‘
${u.highlight}

ã€å®Œæˆé¡¹ç›®ã€‘
${Pe}

ã€é…åˆæƒ…å†µã€‘
é…åˆåº¦ï¼š${u.cooperation} | è€å—æ€§ï¼š${u.tolerance}

ã€è§‚å¯Ÿè®°å½•ã€‘
${u.notes}

ã€å®‰å…¨æé†’ã€‘
${u.safety}`,Se={date:s,highlight:u.highlight,items:j,cooperation:u.cooperation,tolerance:u.tolerance,notes:u.notes,safety:u.safety,detailRecord:pe,therapist:"å´å¤§å‹‡"};re(Se),ie(!0)},[]),Dt=r.useCallback(()=>D(null,null,function*(){if(!B||!c)return;const t=[B,...c.treatmentLogs||[]],a=k(y({},c),{treatmentLogs:t,todayTreated:!0});v(a),b(s=>s.map(d=>d.id===c.id?a:d));try{yield F(`/api/patients/${c.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({patient:a})})}catch(s){console.error("ä¿å­˜æ—¥å¿—åˆ°æ•°æ®åº“å¤±è´¥:",s)}ie(!1),re(null),Q("logs"),S("ä»Šæ—¥æ²»ç–—æ—¥å¿—å·²ä¿å­˜","success")}),[B,c,S]),At=r.useCallback(()=>{be?(oe(null),ye(!1)):(oe(JSON.parse(JSON.stringify(c))),ye(!0))},[be,c]),$t=r.useCallback(()=>D(null,null,function*(){te&&(yield de(te.id,te),ye(!1),oe(null),S("ä¿å­˜æˆåŠŸ","success"))}),[te,de,S]),It=()=>{O(t=>k(y({},t),{treatmentPlan:k(y({},t.treatmentPlan),{items:[...t.treatmentPlan.items,{id:Date.now(),name:"",icon:"ğŸ’Š",duration:"",completed:!1,note:""}]})}))},Rt=(t,a,s)=>{O(d=>k(y({},d),{treatmentPlan:k(y({},d.treatmentPlan),{items:d.treatmentPlan.items.map((x,i)=>i===t?k(y({},x),{[a]:s}):x)})}))},Mt=t=>{O(a=>k(y({},a),{treatmentPlan:k(y({},a.treatmentPlan),{items:a.treatmentPlan.items.filter((s,d)=>d!==t)})}))},Et=t=>{t&&!h.safetyAlerts.includes(t)&&O(a=>k(y({},a),{safetyAlerts:[...a.safetyAlerts,t]}))},Ot=t=>{O(a=>k(y({},a),{safetyAlerts:a.safetyAlerts.filter((s,d)=>d!==t)}))},Lt=()=>h.name.trim()?h.age.trim()?h.diagnosis.trim()?h.bedNo.trim()?!0:(S("è¯·è¾“å…¥åºŠå·","error"),!1):(S("è¯·è¾“å…¥è¯Šæ–­ä¿¡æ¯","error"),!1):(S("è¯·è¾“å…¥æ‚£å„¿å¹´é¾„","error"),!1):(S("è¯·è¾“å…¥æ‚£å„¿å§“å","error"),!1),Ve=()=>{if(!Lt())return;const t=i=>{const j=X.find(_=>_.name===i);if(j)return j.id;const T=Math.max(...X.map(_=>_.id),0)+1;let L=nt.default;for(const[_,p]of Object.entries(nt))if(_!=="default"&&i.includes(_)){L=p;break}const V={id:T,name:i,icon:L.icon,color:L.color,patients:0,pending:0};return ve(_=>[..._,V]),S(`å·²è‡ªåŠ¨åˆ›å»ºæ–°ç§‘å®¤ï¼š${i}`,"success"),T},a=i=>{if(i.includes("å¤©")||i.includes("æœˆ"))return"ğŸ‘¶";if(i.includes("å²")){const j=parseInt(i);if(j<=3)return"ğŸ‘¶";if(j<=6)return Math.random()>.5?"ğŸ‘¦":"ğŸ‘§"}return h.gender==="ç”·"?"ğŸ‘¦":"ğŸ‘§"},s=h.gasGoals.length>0?Math.round(h.gasGoals.reduce((i,j)=>{const T=Number(j.target)||1,L=Number(j.current)||0;return i+L/T*100},0)/h.gasGoals.length):0,d={name:h.name.trim(),age:h.age.trim(),gender:h.gender,bedNo:h.bedNo.trim(),departmentId:t(h.department),department:h.department,avatar:a(h.age),diagnosis:h.diagnosis.trim(),admissionDate:new Date().toISOString().split("T")[0],status:"active",todayTreated:!1,medicalRecordImage:h.medicalRecordImage,rehabProblems:h.rehabProblems||"",safetyAlerts:h.safetyAlerts,gasScore:s,gasGoals:h.gasGoals.filter(i=>i.name.trim()),treatmentPlan:{focus:h.treatmentPlan.focus||"åº·å¤è®­ç»ƒ",highlights:h.treatmentPlan.highlights.filter(i=>i.trim()),items:h.treatmentPlan.items.filter(i=>i.name.trim()),precautions:h.treatmentPlan.precautions.filter(i=>i.trim())},treatmentLogs:[],homework:[]};Fe(!0),D(null,null,function*(){try{const i=yield F("/api/patients",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({patient:d,plan:d.treatmentPlan,caseId:h._caseId||null})});if(!(i!=null&&i.success))throw new Error((i==null?void 0:i.error)||"ä¿å­˜å¤±è´¥");const j=i.patient||k(y({},d),{id:i.patientId});b(T=>[...T,j]),G(!1),ae(0),O(null),je(null),Be(""),Le(0),W("patientDetail",j),S("å»ºæ¡£æˆåŠŸ","success")}catch(i){console.error("å»ºæ¡£å¤±è´¥:",i),S(i.message||"ä¿å­˜å¤±è´¥ï¼Œè¯·é‡è¯•","error")}finally{Fe(!1)}})},Je=()=>{const t=f.filter(a=>a.status==="active"&&!a.todayTreated);He(t.map(a=>k(y({},a),{generatedRecord:{items:a.treatmentPlan.items.map(s=>s.name),highlight:`å¸¸è§„${a.treatmentPlan.focus}è®­ç»ƒ`,notes:"æ‚£å„¿é…åˆè‰¯å¥½ï¼Œè®­ç»ƒé¡ºåˆ©å®Œæˆ",confirmed:!1}}))),Ne(0),Y(!0)},Bt=(t,a)=>{He(x=>x.map((i,j)=>j===t?k(y({},i),{generatedRecord:k(y({},a),{confirmed:!0})}):i));const s=ke[t],d={date:"2026-01-11",items:a.items,highlight:a.highlight,notes:a.notes,therapist:"å´å¤§å‹‡"};de(s.id,{todayTreated:!0,treatmentLogs:[d,...s.treatmentLogs]}),t<ke.length-1&&Ne(t+1)},Ft=()=>e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 z-50",children:[e.jsx("div",{className:"absolute inset-0 bottom-nav"}),e.jsxs("div",{className:"relative px-6 py-2 flex items-center justify-between safe-area-bottom",children:[e.jsx(Ye,{icon:e.jsx(Kt,{size:22}),label:"é¦–é¡µ",active:["home","patients","patientDetail"].includes(o),onClick:()=>W("home")}),A==="therapist"&&e.jsxs("div",{className:"relative -mt-8",children:[e.jsx("button",{onClick:()=>Z(!xe),className:`w-14 h-14 rounded-full flex items-center justify-center transition-all shadow-lg active:scale-90 ${xe?"bg-slate-600 rotate-45":"bg-gradient-to-br from-pink-400 to-rose-500 shadow-pink-300/50"}`,children:e.jsx(ea,{size:28,className:"text-white"})}),xe&&e.jsxs("div",{className:"absolute bottom-20 left-1/2 -translate-x-1/2 bg-white/95 backdrop-blur-xl rounded-2xl p-2 min-w-[200px] shadow-xl border border-slate-100 animate-scale-in",children:[e.jsx(me,{icon:e.jsx(ta,{size:20}),label:"AIæ™ºèƒ½æ”¶æ²»",color:"text-blue-500",onClick:()=>{G(!0),Z(!1)}}),e.jsx(me,{icon:e.jsx(oa,{size:20}),label:"æ‰¹é‡ç”Ÿæˆæ—¥æŠ¥",color:"text-amber-500",onClick:()=>{Je(),Z(!1)}}),e.jsx(me,{icon:e.jsx(Vt,{size:20}),label:"æ²»ç–—æ¨¡æ¿åº“",color:"text-emerald-500",onClick:()=>{ee(!0),Z(!1)}}),e.jsx(me,{icon:e.jsx(Qt,{size:20}),label:"å¿«é€Ÿå½•å…¥",color:"text-rose-500",onClick:()=>{J(!0),Z(!1)}})]})]}),A==="doctor"&&e.jsx("div",{className:"w-14"}),e.jsx(Ye,{icon:e.jsx(sa,{size:22}),label:"æˆ‘çš„",active:o==="profile",onClick:()=>W("profile")})]})]}),Ye=he.memo(({icon:t,label:a,active:s,onClick:d,badge:x})=>e.jsxs("button",{onClick:d,className:`flex flex-col items-center gap-0.5 px-4 py-1.5 rounded-xl transition-all duration-200 ${s?"text-blue-500":"text-slate-400 hover:text-slate-600"}`,children:[e.jsxs("div",{className:"relative",children:[t,x>0&&e.jsx("span",{className:"absolute -top-1 -right-2 bg-rose-500 text-white text-[10px] w-4 h-4 rounded-full flex items-center justify-center font-bold",children:x})]}),e.jsx("span",{className:`text-[10px] font-medium ${s?"text-blue-500":""}`,children:a})]})),me=({icon:t,label:a,color:s,onClick:d})=>e.jsxs("button",{onClick:d,className:"flex items-center gap-3 w-full px-4 py-3 hover:bg-slate-50 rounded-xl transition-all duration-200 active:scale-98",children:[e.jsx("span",{className:s,children:t}),e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:a})]});return e.jsxs("div",{className:"max-w-md mx-auto min-h-screen relative gradient-bg-soft",children:[e.jsxs(r.Suspense,{fallback:e.jsx(Wt,{}),children:[o==="home"&&e.jsx(xa,{userRole:A,patients:f,departments:X,getDepartmentPatients:Ge,navigateTo:W,setShowAIModal:G,initBatchGenerate:Je,isEditingDepartments:dt,setIsEditingDepartments:mt,setDepartments:ve,showToast:S,setShowAddDepartment:Oe}),o==="patients"&&e.jsx(fa,{selectedDepartment:w,getDepartmentPatients:Ge,goBack:Ue,navigateTo:W}),o==="patientDetail"&&e.jsx(ba,{selectedPatient:c,userRole:A,detailTab:it,setDetailTab:Q,isEditingDetail:be,editedPatient:te,setEditedPatient:oe,goBack:Ue,savePatientEdit:$t,toggleEditMode:At,setShowDeleteConfirm:se,toggleTreatmentItem:jt,generateTodayLog:zt,setShowQuickEntry:J,updatePatient:de}),o==="profile"&&e.jsx(ya,{userRole:A,setUserRole:$,setShowTemplates:ee})]}),e.jsx(Ft,{}),e.jsxs(r.Suspense,{fallback:null,children:[e.jsx(ma,{isOpen:ne,onClose:()=>G(!1),aiStep:gt,setAiStep:ae,aiResult:h,setAiResult:O,uploadedImage:xt,setUploadedImage:je,ocrText:bt,setOcrText:Be,ocrProgress:ft,setOcrProgress:Le,handleImageUpload:Ct,updateFormField:_t,addSafetyAlert:Et,removeSafetyAlert:Ot,addTreatmentItem:It,updateTreatmentItem:Rt,removeTreatmentItem:Mt,handleGeneratePlan:Tt,confirmAdmission:Ve,isOcrProcessing:yt,isSavingPatient:wt,departments:X}),e.jsx(pa,{isOpen:U,onClose:()=>Y(!1),batchPatients:ke,currentBatchIndex:vt,setCurrentBatchIndex:Ne,confirmBatchItem:Bt,printBatchRecords:ia}),e.jsx(ua,{isOpen:ge,onClose:()=>ee(!1),treatmentTemplates:st}),e.jsx(ha,{isOpen:E,onClose:()=>J(!1),treatmentTemplates:st}),e.jsx(ga,{isOpen:pt,onClose:()=>Oe(!1),newDepartment:ut,setNewDepartment:ht,allDepartments:ot,onSave:t=>{const a=["bg-blue-100 text-blue-600","bg-green-100 text-green-600","bg-purple-100 text-purple-600","bg-red-100 text-red-600","bg-cyan-100 text-cyan-600","bg-pink-100 text-pink-600","bg-amber-100 text-amber-600","bg-orange-100 text-orange-600"],s=a[Math.floor(Math.random()*a.length)],d={id:Math.max(...X.map(x=>x.id))+1,name:t.name.trim(),icon:t.icon,color:s,patients:0,pending:0};ve([...X,d]),S("ç§‘å®¤æ·»åŠ æˆåŠŸ")},showToast:S})]}),rt&&e.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-end justify-center",onClick:()=>fe(!1),children:e.jsxs("div",{className:"bg-gradient-to-b from-white/95 to-slate-50/95 backdrop-blur-2xl rounded-t-[32px] w-full max-h-[85vh] overflow-y-auto border-t border-white/80 shadow-2xl",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"sticky top-0 bg-white/90 backdrop-blur-xl border-b border-slate-100 px-4 py-3 flex items-center justify-between z-10",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-800",children:["å…¨éƒ¨æ‚£è€… (",f.length,")"]}),e.jsx("button",{onClick:()=>fe(!1),className:"p-2 hover:bg-slate-100 rounded-full",children:e.jsx($e,{size:20,className:"text-slate-500"})})]}),e.jsx("div",{className:"p-4 space-y-2",children:f.filter(t=>t.status==="active").map(t=>e.jsx("button",{onClick:()=>{fe(!1),W("patientDetail",t)},className:"w-full bg-white/60 backdrop-blur-xl rounded-2xl p-3 border border-white/50 shadow-sm hover:bg-white/80 transition-all active:scale-[0.98]",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-100 to-purple-100 rounded-2xl flex items-center justify-center text-xl border-2 border-white shadow-sm",children:t.avatar}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold text-slate-800",children:t.name}),e.jsx("span",{className:"text-xs text-slate-400",children:t.age}),e.jsx("span",{className:"text-xs bg-slate-100 text-slate-600 px-1.5 rounded-lg",children:t.bedNo})]}),e.jsxs("p",{className:"text-xs text-slate-500",children:[t.department," Â· ",t.diagnosis]})]}),e.jsx(Jt,{size:18,className:"text-slate-300"})]})},t.id))})]})}),lt&&c&&e.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center p-4",onClick:()=>se(!1),children:e.jsxs("div",{className:"bg-white/95 backdrop-blur-2xl rounded-3xl p-6 max-w-sm w-full shadow-2xl border border-white/80",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-rose-100 rounded-2xl flex items-center justify-center",children:e.jsx(na,{size:24,className:"text-rose-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"ç¡®è®¤åˆ é™¤"}),e.jsx("p",{className:"text-sm text-slate-400",children:"æ­¤æ“ä½œæ— æ³•æ’¤é”€"})]})]}),e.jsxs("p",{className:"text-slate-600 mb-6",children:["ç¡®å®šè¦åˆ é™¤æ‚£è€… ",e.jsx("span",{className:"font-bold text-slate-800",children:c.name})," çš„æ‰€æœ‰ä¿¡æ¯å—ï¼Ÿ"]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>se(!1),className:"flex-1 px-4 py-2.5 bg-slate-100 text-slate-600 rounded-xl font-semibold hover:bg-slate-200 transition-colors",children:"å–æ¶ˆ"}),e.jsxs("button",{onClick:()=>kt(c.id),className:"flex-1 btn-particle btn-particle-rose py-2.5 rounded-xl",children:[e.jsxs("div",{className:"points_wrapper",children:[e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"})]}),e.jsx("span",{className:"inner",children:"ç¡®è®¤åˆ é™¤"})]})]})]})}),ct&&B&&e.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center p-4",onClick:()=>ie(!1),children:e.jsxs("div",{className:"bg-white/95 backdrop-blur-2xl rounded-3xl p-6 max-w-md w-full shadow-2xl max-h-[80vh] overflow-y-auto border border-white/80",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-2xl flex items-center justify-center",children:e.jsx(Xt,{size:24,className:"text-emerald-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"ç¡®è®¤æ²»ç–—æ—¥å¿—"}),e.jsx("p",{className:"text-sm text-slate-400",children:B.date})]})]}),e.jsx("div",{className:"bg-amber-50 border border-amber-100 rounded-2xl p-4 mb-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(aa,{size:16,className:"text-amber-500 mt-0.5"}),e.jsx("div",{className:"flex-1",children:e.jsx("textarea",{value:B.highlight,onChange:t=>re(k(y({},B),{highlight:t.target.value})),className:"w-full text-sm font-semibold text-slate-700 leading-relaxed bg-transparent border-none outline-none resize-none",rows:2})})]})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"text-xs text-slate-400 mb-2 block font-medium",children:"å®Œæˆé¡¹ç›®"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:B.items.map((t,a)=>e.jsx("span",{className:"bg-blue-100 text-blue-600 px-3 py-1.5 rounded-xl text-sm font-medium",children:t.name},a))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"text-xs text-slate-400 mb-2 block font-medium",children:"è¯¦ç»†è®°å½•"}),e.jsx("textarea",{value:B.detailRecord,onChange:t=>re(k(y({},B),{detailRecord:t.target.value})),className:"w-full bg-slate-50 rounded-2xl p-4 text-sm text-slate-700 leading-relaxed border border-slate-200 focus:border-blue-400 focus:ring-2 focus:ring-blue-100 outline-none resize-none",rows:5})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>ie(!1),className:"flex-1 px-4 py-2.5 bg-slate-100 text-slate-600 rounded-xl font-semibold hover:bg-slate-200 transition-colors",children:"å–æ¶ˆ"}),e.jsxs("button",{onClick:Dt,className:"flex-1 btn-particle btn-particle-emerald py-2.5 rounded-xl",children:[e.jsxs("div",{className:"points_wrapper",children:[e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"}),e.jsx("div",{className:"point"})]}),e.jsx("span",{className:"inner",children:"ç¡®è®¤ä¿å­˜"})]})]})]})}),le&&e.jsxs("div",{className:`fixed top-4 left-4 right-4 z-50 p-4 rounded-2xl shadow-lg flex items-center gap-3 animate-slide-up ${le.type==="success"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white":"bg-rose-500 text-white"}`,children:[le.type==="success"?e.jsx(Zt,{size:24}):e.jsx(Yt,{size:24}),e.jsx("span",{className:"flex-1",children:le.message}),e.jsx("button",{onClick:()=>we(null),className:"p-1 hover:bg-white/20 rounded-full",children:e.jsx($e,{size:18})})]}),e.jsx("style",{children:`
        @keyframes slide-up {
          from {
            transform: translateY(100%);
          }
          to {
            transform: translateY(0);
          }
        }
        .animate-slide-up {
          animation: slide-up 0.3s ease-out;
        }
      `})]})}const Sa=Object.freeze(Object.defineProperty({__proto__:null,default:wa},Symbol.toStringTag,{value:"Module"}));export{Vt as B,Zt as C,Xt as F,Re as G,Me as M,Ee as P,Sa as R,ta as S,na as T,sa as U,$e as X,oa as Z,Yt as a,Qt as b,z as c,aa as d,Jt as e,ea as f,Na as g,Pa as p};
