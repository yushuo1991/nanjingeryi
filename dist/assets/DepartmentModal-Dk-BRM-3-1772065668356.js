var f=Object.defineProperty,g=Object.defineProperties;var j=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var p=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var b=(i,r,s)=>r in i?f(i,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[r]=s,n=(i,r)=>{for(var s in r||(r={}))p.call(r,s)&&b(i,s,r[s]);if(x)for(var s of x(r))v.call(r,s)&&b(i,s,r[s]);return i},c=(i,r)=>g(i,j(r));import{j as e}from"./index-HaFXGmlc-1772065668356.js";import{X as N,c as l}from"./RehabCareLink-DcW8XIgW-1772065668356.js";const y=({isOpen:i,onClose:r,newDepartment:s,setNewDepartment:a,allDepartments:u,onSave:h,showToast:d})=>{if(!i)return null;const o=()=>{r(),a({name:"",icon:""})},m=()=>{if(!s.name.trim()){d("请输入科室名称");return}if(!s.icon){d("请选择图标");return}h(s),o()};return e.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-end justify-center",onClick:o,children:e.jsxs("div",{className:"bg-gradient-to-b from-white/95 to-slate-50/95 backdrop-blur-2xl rounded-t-[32px] w-full max-h-[85vh] overflow-y-auto border-t border-white/80 shadow-2xl",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"sticky top-0 bg-white/90 backdrop-blur-xl border-b border-slate-100 px-4 py-3 flex items-center justify-between z-10",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"添加科室"}),e.jsx("button",{onClick:o,className:"p-2 hover:bg-slate-100 rounded-full",children:e.jsx(N,{size:20,className:"text-slate-500"})})]}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 mb-2 block",children:"科室名称 *"}),e.jsx("input",{type:"text",value:s.name,onChange:t=>a(c(n({},s),{name:t.target.value})),placeholder:"请输入科室名称，如：呼吸内科",className:"w-full border border-slate-200 rounded-xl px-4 py-3 text-sm text-slate-700 placeholder-slate-400 focus:border-blue-400 focus:ring-2 focus:ring-blue-100 outline-none bg-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 mb-2 block",children:"选择图标 *"}),e.jsx("div",{className:"grid grid-cols-4 gap-3",children:u.map(t=>e.jsx("button",{onClick:()=>a(c(n({},s),{icon:t.icon})),className:`aspect-square rounded-xl border-2 flex items-center justify-center transition-all ${s.icon===t.icon?"border-blue-500 bg-blue-50":"border-slate-200 bg-white hover:border-slate-300"}`,children:e.jsx("div",{className:"w-12 h-12 flex items-center justify-center overflow-hidden",children:t.icon.startsWith("/images/")?e.jsx("img",{src:t.icon,alt:t.name,className:"w-full h-full object-cover"}):e.jsx("span",{className:"text-2xl",children:t.icon})})},t.id))}),s.icon&&e.jsxs("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-xl flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-white flex items-center justify-center overflow-hidden border border-slate-100",children:s.icon.startsWith("/images/")?e.jsx("img",{src:s.icon,alt:"选中的图标",className:"w-full h-full object-cover"}):e.jsx("span",{className:"text-xl",children:s.icon})}),e.jsx("span",{className:"text-sm text-slate-600",children:"已选择图标"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx("button",{onClick:o,className:"flex-1 py-3 rounded-xl border border-slate-200 text-slate-600 font-bold hover:bg-slate-50 transition-all",children:"取消"}),e.jsx("button",{onClick:m,className:"flex-1 py-3 rounded-xl bg-gradient-to-r from-blue-500 to-purple-500 text-white font-bold hover:shadow-lg transition-all",children:"确认添加"})]})]})]})})};y.propTypes={isOpen:l.bool.isRequired,onClose:l.func.isRequired,newDepartment:l.shape({name:l.string,icon:l.string}).isRequired,setNewDepartment:l.func.isRequired,allDepartments:l.arrayOf(l.shape({id:l.oneOfType([l.string,l.number]),name:l.string,icon:l.string})).isRequired,onSave:l.func.isRequired,showToast:l.func.isRequired};export{y as default};
