<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>React Router Test Suite</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
    }
    .container {
      background: white;
      border-radius: 12px;
      padding: 30px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.2);
    }
    h1 {
      color: #333;
      margin-bottom: 10px;
    }
    .subtitle {
      color: #666;
      margin-bottom: 30px;
    }
    .test-section {
      margin-bottom: 30px;
      padding: 20px;
      background: #f8f9fa;
      border-radius: 8px;
      border-left: 4px solid #667eea;
    }
    .test-section h2 {
      margin-top: 0;
      color: #667eea;
    }
    .test-item {
      margin: 15px 0;
      padding: 15px;
      background: white;
      border-radius: 6px;
      border: 1px solid #e0e0e0;
    }
    .test-item h3 {
      margin: 0 0 10px 0;
      color: #333;
      font-size: 16px;
    }
    .test-item p {
      margin: 5px 0;
      color: #666;
      font-size: 14px;
    }
    .test-link {
      display: inline-block;
      margin: 5px 10px 5px 0;
      padding: 8px 16px;
      background: #667eea;
      color: white;
      text-decoration: none;
      border-radius: 4px;
      font-size: 14px;
      transition: background 0.3s;
    }
    .test-link:hover {
      background: #5568d3;
    }
    .test-link.secondary {
      background: #6c757d;
    }
    .test-link.secondary:hover {
      background: #5a6268;
    }
    .status {
      display: inline-block;
      padding: 4px 12px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 600;
      margin-left: 10px;
    }
    .status.pending {
      background: #fff3cd;
      color: #856404;
    }
    .status.pass {
      background: #d4edda;
      color: #155724;
    }
    .status.fail {
      background: #f8d7da;
      color: #721c24;
    }
    .checklist {
      list-style: none;
      padding: 0;
    }
    .checklist li {
      padding: 8px 0;
      border-bottom: 1px solid #e0e0e0;
    }
    .checklist li:last-child {
      border-bottom: none;
    }
    .checklist input[type="checkbox"] {
      margin-right: 10px;
      transform: scale(1.2);
    }
    code {
      background: #f4f4f4;
      padding: 2px 6px;
      border-radius: 3px;
      font-family: 'Courier New', monospace;
      font-size: 13px;
    }
    .info-box {
      background: #e7f3ff;
      border-left: 4px solid #2196F3;
      padding: 15px;
      margin: 20px 0;
      border-radius: 4px;
    }
    .info-box strong {
      color: #1976D2;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>React Router Integration Test Suite</h1>
    <p class="subtitle">康复云查房助手 - 路由功能测试</p>

    <div class="info-box">
      <strong>测试说明:</strong> 点击下方链接测试各个路由功能。使用浏览器的前进/后退按钮验证导航功能。勾选完成的测试项。
    </div>

    <!-- Test Section 1: Basic Routes -->
    <div class="test-section">
      <h2>1. 基础路由测试</h2>
      <div class="test-item">
        <h3>首页路由 <span class="status pending">待测试</span></h3>
        <p>测试访问首页路由</p>
        <a href="http://localhost:3000/" class="test-link" target="_blank">访问首页 (/)</a>
        <p><strong>预期结果:</strong> 显示科室列表和欢迎信息</p>
      </div>

      <div class="test-item">
        <h3>患者列表路由 <span class="status pending">待测试</span></h3>
        <p>测试访问患者列表页面</p>
        <a href="http://localhost:3000/patients" class="test-link" target="_blank">访问患者列表 (/patients)</a>
        <p><strong>预期结果:</strong> 显示所有患者列表</p>
      </div>

      <div class="test-item">
        <h3>患者详情路由 <span class="status pending">待测试</span></h3>
        <p>测试访问特定患者详情页面</p>
        <a href="http://localhost:3000/patients/1" class="test-link" target="_blank">患者1详情 (/patients/1)</a>
        <a href="http://localhost:3000/patients/2" class="test-link" target="_blank">患者2详情 (/patients/2)</a>
        <a href="http://localhost:3000/patients/3" class="test-link" target="_blank">患者3详情 (/patients/3)</a>
        <p><strong>预期结果:</strong> 显示对应患者的详细信息</p>
      </div>

      <div class="test-item">
        <h3>个人中心路由 <span class="status pending">待测试</span></h3>
        <p>测试访问个人中心页面</p>
        <a href="http://localhost:3000/profile" class="test-link" target="_blank">访问个人中心 (/profile)</a>
        <p><strong>预期结果:</strong> 显示用户个人信息和设置</p>
      </div>

      <div class="test-item">
        <h3>404错误页面 <span class="status pending">待测试</span></h3>
        <p>测试访问不存在的路由</p>
        <a href="http://localhost:3000/invalid-route" class="test-link secondary" target="_blank">访问无效路由</a>
        <a href="http://localhost:3000/patients/999999" class="test-link secondary" target="_blank">访问不存在的患者</a>
        <p><strong>预期结果:</strong> 显示404错误页面，提供返回首页链接</p>
      </div>
    </div>

    <!-- Test Section 2: Browser Navigation -->
    <div class="test-section">
      <h2>2. 浏览器导航测试</h2>
      <div class="test-item">
        <h3>浏览器后退按钮 <span class="status pending">待测试</span></h3>
        <p><strong>测试步骤:</strong></p>
        <ol>
          <li>访问首页 → 点击科室 → 点击患者</li>
          <li>点击浏览器后退按钮</li>
          <li>验证返回到患者列表页面</li>
          <li>再次点击后退按钮</li>
          <li>验证返回到首页</li>
        </ol>
        <p><strong>预期结果:</strong> 后退按钮正常工作，页面状态正确恢复</p>
      </div>

      <div class="test-item">
        <h3>浏览器前进按钮 <span class="status pending">待测试</span></h3>
        <p><strong>测试步骤:</strong></p>
        <ol>
          <li>完成上述后退测试</li>
          <li>点击浏览器前进按钮</li>
          <li>验证返回到患者列表页面</li>
          <li>再次点击前进按钮</li>
          <li>验证返回到患者详情页面</li>
        </ol>
        <p><strong>预期结果:</strong> 前进按钮正常工作，页面状态正确恢复</p>
      </div>

      <div class="test-item">
        <h3>URL地址栏更新 <span class="status pending">待测试</span></h3>
        <p><strong>测试步骤:</strong></p>
        <ol>
          <li>在应用内导航到不同页面</li>
          <li>观察浏览器地址栏URL变化</li>
        </ol>
        <p><strong>预期结果:</strong> URL实时更新，反映当前页面路径</p>
      </div>
    </div>

    <!-- Test Section 3: Deep Linking -->
    <div class="test-section">
      <h2>3. 深度链接测试</h2>
      <div class="test-item">
        <h3>直接访问URL <span class="status pending">待测试</span></h3>
        <p><strong>测试步骤:</strong></p>
        <ol>
          <li>在新标签页中直接输入URL: <code>http://localhost:3000/patients/1</code></li>
          <li>按回车访问</li>
        </ol>
        <p><strong>预期结果:</strong> 直接显示患者1的详情页面，无需从首页导航</p>
      </div>

      <div class="test-item">
        <h3>书签功能 <span class="status pending">待测试</span></h3>
        <p><strong>测试步骤:</strong></p>
        <ol>
          <li>访问任意页面（如患者详情）</li>
          <li>添加浏览器书签</li>
          <li>关闭标签页</li>
          <li>从书签重新打开</li>
        </ol>
        <p><strong>预期结果:</strong> 书签能正确打开对应页面</p>
      </div>

      <div class="test-item">
        <h3>分享链接 <span class="status pending">待测试</span></h3>
        <p><strong>测试步骤:</strong></p>
        <ol>
          <li>复制任意页面的URL</li>
          <li>在新的隐身窗口中粘贴访问</li>
        </ol>
        <p><strong>预期结果:</strong> 链接可以分享，其他人能直接访问</p>
      </div>
    </div>

    <!-- Test Section 4: Page Refresh -->
    <div class="test-section">
      <h2>4. 页面刷新测试</h2>
      <div class="test-item">
        <h3>刷新保持状态 <span class="status pending">待测试</span></h3>
        <p><strong>测试步骤:</strong></p>
        <ol>
          <li>访问首页，按F5刷新</li>
          <li>访问患者列表，按F5刷新</li>
          <li>访问患者详情，按F5刷新</li>
          <li>访问个人中心，按F5刷新</li>
        </ol>
        <p><strong>预期结果:</strong> 刷新后停留在当前页面，不会跳转到首页</p>
      </div>

      <div class="test-item">
        <h3>硬刷新测试 <span class="status pending">待测试</span></h3>
        <p><strong>测试步骤:</strong></p>
        <ol>
          <li>访问任意页面</li>
          <li>按Ctrl+Shift+R (Windows) 或 Cmd+Shift+R (Mac) 硬刷新</li>
        </ol>
        <p><strong>预期结果:</strong> 页面正确加载，无缓存问题</p>
      </div>
    </div>

    <!-- Test Section 5: Query Parameters -->
    <div class="test-section">
      <h2>5. URL参数测试</h2>
      <div class="test-item">
        <h3>科室分享链接 <span class="status pending">待测试</span></h3>
        <p>测试带科室参数的URL</p>
        <a href="http://localhost:3000/patients?dept=1" class="test-link" target="_blank">呼吸内科 (?dept=1)</a>
        <a href="http://localhost:3000/patients?dept=5" class="test-link" target="_blank">康复科 (?dept=5)</a>
        <p><strong>预期结果:</strong> 直接显示对应科室的患者列表</p>
      </div>

      <div class="test-item">
        <h3>只读模式 <span class="status pending">待测试</span></h3>
        <p>测试只读模式参数</p>
        <a href="http://localhost:3000/?readonly=true" class="test-link secondary" target="_blank">只读模式 (?readonly=true)</a>
        <a href="http://localhost:3000/patients?dept=1&readonly=true" class="test-link secondary" target="_blank">科室只读 (?dept=1&readonly=true)</a>
        <p><strong>预期结果:</strong> 进入医生查看模式，无编辑权限</p>
      </div>
    </div>

    <!-- Test Section 6: State Management -->
    <div class="test-section">
      <h2>6. 状态管理测试</h2>
      <div class="test-item">
        <h3>页面状态同步 <span class="status pending">待测试</span></h3>
        <p><strong>测试步骤:</strong></p>
        <ol>
          <li>从首页点击科室进入患者列表</li>
          <li>点击患者进入详情页</li>
          <li>点击浏览器后退按钮</li>
          <li>验证科室选择状态是否保持</li>
        </ol>
        <p><strong>预期结果:</strong> 返回时科室选择状态保持，不会丢失</p>
      </div>

      <div class="test-item">
        <h3>状态清理 <span class="status pending">待测试</span></h3>
        <p><strong>测试步骤:</strong></p>
        <ol>
          <li>选择科室和患者</li>
          <li>导航到首页</li>
          <li>验证科室和患者选择是否清空</li>
        </ol>
        <p><strong>预期结果:</strong> 返回首页时状态正确清理</p>
      </div>
    </div>

    <!-- Test Checklist -->
    <div class="test-section">
      <h2>测试清单</h2>
      <ul class="checklist">
        <li><input type="checkbox"> 所有基础路由正常访问</li>
        <li><input type="checkbox"> 浏览器后退/前进按钮工作正常</li>
        <li><input type="checkbox"> URL地址栏实时更新</li>
        <li><input type="checkbox"> 深度链接可以直接访问</li>
        <li><input type="checkbox"> 页面刷新保持当前路由</li>
        <li><input type="checkbox"> URL参数正确解析</li>
        <li><input type="checkbox"> 404页面正确显示</li>
        <li><input type="checkbox"> 页面状态正确同步</li>
        <li><input type="checkbox"> 导航时状态正确清理</li>
        <li><input type="checkbox"> 无控制台错误</li>
      </ul>
    </div>

    <div class="info-box">
      <strong>提示:</strong> 完成所有测试后，请检查浏览器控制台是否有错误信息。所有功能应该正常工作，无报错。
    </div>
  </div>

  <script>
    // Auto-save checkbox state
    const checkboxes = document.querySelectorAll('input[type="checkbox"]');
    checkboxes.forEach((checkbox, index) => {
      const savedState = localStorage.getItem(`test-${index}`);
      if (savedState === 'true') {
        checkbox.checked = true;
      }

      checkbox.addEventListener('change', () => {
        localStorage.setItem(`test-${index}`, checkbox.checked);
      });
    });

    // Update status badges based on test results
    document.querySelectorAll('.test-link').forEach(link => {
      link.addEventListener('click', function(e) {
        const statusBadge = this.closest('.test-item').querySelector('.status');
        if (statusBadge) {
          statusBadge.textContent = '测试中';
          statusBadge.className = 'status pending';
        }
      });
    });
  </script>
</body>
</html>
